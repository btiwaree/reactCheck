{"version":3,"sources":["install.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,WAAW,QAAQ,WAAR,CAAX;AACJ,IAAI,MAAM,QAAQ,SAAR,CAAN;AACJ,IAAI,MAAM,QAAQ,IAAR,CAAN;;AAEJ,IAAI,GAAJ,CAAQ,UAAU,GAAV,EAAe;AACtB,KAAI,GAAJ,EAAS;AACR,MAAI,IAAJ,CAAS,IAAI,OAAJ,CAAT,CADQ;AAER,MAAI,IAAJ,CAAS,+BAAT,EAFQ;AAGR,MAAI,IAAJ,CAAS,uBAAT,EAHQ;;AAKR,MAAI,QAAJ,GACE,GADF,CACM,6FADN,EAEE,GAFF,CAEM,CACJ,8CAA8C,IAAI,IAAJ,EAA9C,GAA2D,GAA3D,EACA,eAAe,IAAI,IAAJ,EAAf,GAA4B,GAA5B,CAFI,CAGH,IAHG,CAGE,GAHF,CAFN,EAME,GANF,CAMM,cANN,EAOE,GAPF,CAOM,UAAU,GAAV,EAAe;AACnB,OAAI,GAAJ,EAAS;AACR,QAAI,KAAJ,CAAU,IAAI,KAAJ,CAAV,CADQ;AAER,WAFQ;IAAT;;AAKA,OAAI,OAAJ,CAAY,4BAAZ,EANmB;GAAf,CAPN,CALQ;;AAqBR,SArBQ;EAAT;;AAwBA,KAAI,OAAJ,CAAY,4CAAZ,EAzBsB;CAAf,CAAR","file":"install-compiled.js","sourcesContent":["'use strict';\n\nvar BinBuild = require('bin-build');\nvar log = require('logalot');\nvar bin = require('./');\n\nbin.run(function (err) {\n\tif (err) {\n\t\tlog.warn(err.message);\n\t\tlog.warn('optipng pre-build test failed');\n\t\tlog.info('compiling from source');\n\n\t\tnew BinBuild()\n\t\t\t.src('http://downloads.sourceforge.net/project/optipng/OptiPNG/optipng-0.7.6/optipng-0.7.6.tar.gz')\n\t\t\t.cmd([\n\t\t\t\t'./configure --with-system-zlib --prefix=\"' + bin.dest() + '\"',\n\t\t\t\t'--bindir=\"' + bin.dest() + '\"'\n\t\t\t].join(' '))\n\t\t\t.cmd('make install')\n\t\t\t.run(function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tlog.error(err.stack);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlog.success('optipng built successfully');\n\t\t\t});\n\n\t\treturn;\n\t}\n\n\tlog.success('optipng pre-build test passed successfully');\n});\n"]}