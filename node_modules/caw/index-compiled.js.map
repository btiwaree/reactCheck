{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AACA,IAAI,MAAM,QAAQ,KAAR,CAAN;AACJ,IAAI,WAAW,QAAQ,WAAR,CAAX;AACJ,IAAI,eAAe,QAAQ,eAAR,CAAf;AACJ,IAAI,cAAc,QAAQ,cAAR,CAAd;AACJ,IAAI,QAAQ,QAAQ,QAAR,CAAR;;AAEJ,OAAO,OAAP,GAAiB,UAAU,KAAV,EAAiB,IAAjB,EAAuB;AACvC,QAAO,aAAa,EAAb,EAAiB,IAAjB,CAAP,CADuC;;AAGvC,KAAI,MAAM,KAAN,CAAJ,EAAkB;AACjB,SAAO,KAAP,CADiB;AAEjB,UAAQ,UAAR,CAFiB;EAAlB,MAGO,IAAI,UAAU,SAAV,EAAqB;AAC/B,UAAQ,UAAR,CAD+B;EAAzB;;AAIP,KAAI,CAAC,KAAD,EAAQ;AACX,SAAO,SAAP,CADW;EAAZ;;AAIA,SAAQ,IAAI,KAAJ,CAAU,KAAV,CAAR,CAduC;;AAgBvC,KAAI,cAAc,KAAK,QAAL,KAAkB,OAAlB,GAA4B,OAA5B,GAAsC,MAAtC,CAhBqB;AAiBvC,KAAI,gBAAgB,MAAM,QAAN,KAAmB,QAAnB,GAA8B,OAA9B,GAAwC,MAAxC,CAjBmB;AAkBvC,KAAI,OAAO,MAAM,IAAN,KAAe,kBAAkB,OAAlB,GAA4B,GAA5B,GAAkC,EAAlC,CAAf,CAlB4B;AAmBvC,KAAI,SAAS,CAAC,WAAD,EAAc,aAAd,EAA6B,IAA7B,CAAkC,MAAlC,CAAT,CAnBmC;;AAqBvC,QAAO,KAAK,QAAL,CArBgC;;AAuBvC,QAAO,YAAY,MAAZ,EAAoB,aAAa;AACvC,SAAO;AACN,SAAM,MAAM,QAAN;AACN,SAAM,IAAN;AACA,cAAW,MAAM,IAAN;GAHZ;EAD0B,EAMxB,IANwB,CAApB,CAAP,CAvBuC;CAAvB","file":"index-compiled.js","sourcesContent":["'use strict';\nvar url = require('url');\nvar getProxy = require('get-proxy');\nvar objectAssign = require('object-assign');\nvar tunnelAgent = require('tunnel-agent');\nvar isObj = require('is-obj');\n\nmodule.exports = function (proxy, opts) {\n\topts = objectAssign({}, opts);\n\n\tif (isObj(proxy)) {\n\t\topts = proxy;\n\t\tproxy = getProxy();\n\t} else if (proxy === undefined) {\n\t\tproxy = getProxy();\n\t}\n\n\tif (!proxy) {\n\t\treturn undefined;\n\t}\n\n\tproxy = url.parse(proxy);\n\n\tvar uriProtocol = opts.protocol === 'https' ? 'https' : 'http';\n\tvar proxyProtocol = proxy.protocol === 'https:' ? 'Https' : 'Http';\n\tvar port = proxy.port || (proxyProtocol === 'Https' ? 443 : 80);\n\tvar method = [uriProtocol, proxyProtocol].join('Over');\n\n\tdelete opts.protocol;\n\n\treturn tunnelAgent[method](objectAssign({\n\t\tproxy: {\n\t\t\thost: proxy.hostname,\n\t\t\tport: port,\n\t\t\tproxyAuth: proxy.auth\n\t\t}\n\t}, opts));\n};\n"]}