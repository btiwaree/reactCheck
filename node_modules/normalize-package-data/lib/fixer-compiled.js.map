{"version":3,"sources":["fixer.js"],"names":[],"mappings":"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","file":"fixer-compiled.js","sourcesContent":["var semver = require(\"semver\")\nvar validateLicense = require('validate-npm-package-license');\nvar hostedGitInfo = require(\"hosted-git-info\")\nvar isBuiltinModule = require(\"is-builtin-module\")\nvar depTypes = [\"dependencies\",\"devDependencies\",\"optionalDependencies\"]\nvar extractDescription = require(\"./extract_description\")\nvar url = require(\"url\")\nvar typos = require(\"./typos\")\n\nvar fixer = module.exports = {\n  // default warning function\n  warn: function() {},\n\n  fixRepositoryField: function(data) {\n    if (data.repositories) {\n      this.warn(\"repositories\");\n      data.repository = data.repositories[0]\n    }\n    if (!data.repository) return this.warn(\"missingRepository\")\n    if (typeof data.repository === \"string\") {\n      data.repository = {\n        type: \"git\",\n        url: data.repository\n      }\n    }\n    var r = data.repository.url || \"\"\n    if (r) {\n      var hosted = hostedGitInfo.fromUrl(r)\n      if (hosted) {\n        r = data.repository.url\n          = hosted.getDefaultRepresentation() == \"shortcut\" ? hosted.https() : hosted.toString()\n      }\n    }\n\n    if (r.match(/github.com\\/[^\\/]+\\/[^\\/]+\\.git\\.git$/)) {\n      this.warn(\"brokenGitUrl\", r)\n    }\n  }\n\n, fixTypos: function(data) {\n    Object.keys(typos.topLevel).forEach(function (d) {\n      if (data.hasOwnProperty(d)) {\n        this.warn(\"typo\", d, typos.topLevel[d])\n      }\n    }, this)\n  }\n\n, fixScriptsField: function(data) {\n    if (!data.scripts) return\n    if (typeof data.scripts !== \"object\") {\n      this.warn(\"nonObjectScripts\")\n      delete data.scripts\n      return\n    }\n    Object.keys(data.scripts).forEach(function (k) {\n      if (typeof data.scripts[k] !== \"string\") {\n        this.warn(\"nonStringScript\")\n        delete data.scripts[k]\n      } else if (typos.script[k] && !data.scripts[typos.script[k]]) {\n        this.warn(\"typo\", k, typos.script[k], \"scripts\")\n      }\n    }, this)\n  }\n\n, fixFilesField: function(data) {\n    var files = data.files\n    if (files && !Array.isArray(files)) {\n      this.warn(\"nonArrayFiles\")\n      delete data.files\n    } else if (data.files) {\n      data.files = data.files.filter(function(file) {\n        if (!file || typeof file !== \"string\") {\n          this.warn(\"invalidFilename\", file)\n          return false\n        } else {\n          return true\n        }\n      }, this)\n    }\n  }\n\n, fixBinField: function(data) {\n    if (!data.bin) return;\n    if (typeof data.bin === \"string\") {\n      var b = {}\n      var match\n      if (match = data.name.match(/^@[^/]+[/](.*)$/)) {\n        b[match[1]] = data.bin\n      } else {\n        b[data.name] = data.bin\n      }\n      data.bin = b\n    }\n  }\n\n, fixManField: function(data) {\n    if (!data.man) return;\n    if (typeof data.man === \"string\") {\n      data.man = [ data.man ]\n    }\n  }\n, fixBundleDependenciesField: function(data) {\n    var bdd = \"bundledDependencies\"\n    var bd = \"bundleDependencies\"\n    if (data[bdd] && !data[bd]) {\n      data[bd] = data[bdd]\n      delete data[bdd]\n    }\n    if (data[bd] && !Array.isArray(data[bd])) {\n      this.warn(\"nonArrayBundleDependencies\")\n      delete data[bd]\n    } else if (data[bd]) {\n      data[bd] = data[bd].filter(function(bd) {\n        if (!bd || typeof bd !== 'string') {\n          this.warn(\"nonStringBundleDependency\", bd)\n          return false\n        } else {\n          if (!data.dependencies) {\n            data.dependencies = {}\n          }\n          if (!data.dependencies.hasOwnProperty(bd)) {\n            this.warn(\"nonDependencyBundleDependency\", bd)\n            data.dependencies[bd] = \"*\"\n          }\n          return true\n        }\n      }, this)\n    }\n  }\n\n, fixDependencies: function(data, strict) {\n    var loose = !strict\n    objectifyDeps(data, this.warn)\n    addOptionalDepsToDeps(data, this.warn)\n    this.fixBundleDependenciesField(data)\n\n    ;['dependencies','devDependencies'].forEach(function(deps) {\n      if (!(deps in data)) return\n      if (!data[deps] || typeof data[deps] !== \"object\") {\n        this.warn(\"nonObjectDependencies\", deps)\n        delete data[deps]\n        return\n      }\n      Object.keys(data[deps]).forEach(function (d) {\n        var r = data[deps][d]\n        if (typeof r !== 'string') {\n          this.warn(\"nonStringDependency\", d, JSON.stringify(r))\n          delete data[deps][d]\n        }\n        var hosted = hostedGitInfo.fromUrl(data[deps][d])\n        if (hosted) data[deps][d] = hosted.toString()\n      }, this)\n    }, this)\n  }\n\n, fixModulesField: function (data) {\n    if (data.modules) {\n      this.warn(\"deprecatedModules\")\n      delete data.modules\n    }\n  }\n\n, fixKeywordsField: function (data) {\n    if (typeof data.keywords === \"string\") {\n      data.keywords = data.keywords.split(/,\\s+/)\n    }\n    if (data.keywords && !Array.isArray(data.keywords)) {\n      delete data.keywords\n      this.warn(\"nonArrayKeywords\")\n    } else if (data.keywords) {\n      data.keywords = data.keywords.filter(function(kw) {\n        if (typeof kw !== \"string\" || !kw) {\n          this.warn(\"nonStringKeyword\");\n          return false\n        } else {\n          return true\n        }\n      }, this)\n    }\n  }\n\n, fixVersionField: function(data, strict) {\n    // allow \"loose\" semver 1.0 versions in non-strict mode\n    // enforce strict semver 2.0 compliance in strict mode\n    var loose = !strict\n    if (!data.version) {\n      data.version = \"\"\n      return true\n    }\n    if (!semver.valid(data.version, loose)) {\n      throw new Error('Invalid version: \"'+ data.version + '\"')\n    }\n    data.version = semver.clean(data.version, loose)\n    return true\n  }\n\n, fixPeople: function(data) {\n    modifyPeople(data, unParsePerson)\n    modifyPeople(data, parsePerson)\n  }\n\n, fixNameField: function(data, options) {\n    if (typeof options === \"boolean\") options = {strict: options}\n    else if (typeof options === \"undefined\") options = {}\n    var strict = options.strict\n    if (!data.name && !strict) {\n      data.name = \"\"\n      return\n    }\n    if (typeof data.name !== \"string\") {\n      throw new Error(\"name field must be a string.\")\n    }\n    if (!strict)\n      data.name = data.name.trim()\n    ensureValidName(data.name, strict, options.allowLegacyCase)\n    if (isBuiltinModule(data.name))\n      this.warn(\"conflictingName\", data.name)\n  }\n\n\n, fixDescriptionField: function (data) {\n    if (data.description && typeof data.description !== 'string') {\n      this.warn(\"nonStringDescription\")\n      delete data.description\n    }\n    if (data.readme && !data.description)\n      data.description = extractDescription(data.readme)\n      if(data.description === undefined) delete data.description;\n    if (!data.description) this.warn(\"missingDescription\")\n  }\n\n, fixReadmeField: function (data) {\n    if (!data.readme) {\n      this.warn(\"missingReadme\")\n      data.readme = \"ERROR: No README data found!\"\n    }\n  }\n\n, fixBugsField: function(data) {\n    if (!data.bugs && data.repository && data.repository.url) {\n      var hosted = hostedGitInfo.fromUrl(data.repository.url)\n      if(hosted && hosted.bugs()) {\n        data.bugs = {url: hosted.bugs()}\n      }\n    }\n    else if(data.bugs) {\n      var emailRe = /^.+@.*\\..+$/\n      if(typeof data.bugs == \"string\") {\n        if(emailRe.test(data.bugs))\n          data.bugs = {email:data.bugs}\n        else if(url.parse(data.bugs).protocol)\n          data.bugs = {url: data.bugs}\n        else\n          this.warn(\"nonEmailUrlBugsString\")\n      }\n      else {\n        bugsTypos(data.bugs, this.warn)\n        var oldBugs = data.bugs\n        data.bugs = {}\n        if(oldBugs.url) {\n          if(typeof(oldBugs.url) == \"string\" && url.parse(oldBugs.url).protocol)\n            data.bugs.url = oldBugs.url\n          else\n            this.warn(\"nonUrlBugsUrlField\")\n        }\n        if(oldBugs.email) {\n          if(typeof(oldBugs.email) == \"string\" && emailRe.test(oldBugs.email))\n            data.bugs.email = oldBugs.email\n          else\n            this.warn(\"nonEmailBugsEmailField\")\n        }\n      }\n      if(!data.bugs.email && !data.bugs.url) {\n        delete data.bugs\n        this.warn(\"emptyNormalizedBugs\")\n      }\n    }\n  }\n\n, fixHomepageField: function(data) {\n    if (!data.homepage && data.repository && data.repository.url) {\n      var hosted = hostedGitInfo.fromUrl(data.repository.url)\n      if (hosted && hosted.docs()) data.homepage = hosted.docs()\n    }\n    if (!data.homepage) return\n\n    if(typeof data.homepage !== \"string\") {\n      this.warn(\"nonUrlHomepage\")\n      return delete data.homepage\n    }\n    if(!url.parse(data.homepage).protocol) {\n      this.warn(\"missingProtocolHomepage\")\n      data.homepage = \"http://\" + data.homepage\n    }\n  }\n\n, fixLicenseField: function(data) {\n    if (!data.license) {\n      return this.warn(\"missingLicense\")\n    } else{\n      if (\n        typeof(data.license) !== 'string' ||\n        data.license.length < 1\n      ) {\n        this.warn(\"invalidLicense\")\n      } else {\n        if (!validateLicense(data.license).validForNewPackages)\n          this.warn(\"invalidLicense\")\n      }\n    }\n  }\n}\n\nfunction isValidScopedPackageName(spec) {\n  if (spec.charAt(0) !== '@') return false\n\n  var rest = spec.slice(1).split('/')\n  if (rest.length !== 2) return false\n\n  return rest[0] && rest[1] &&\n    rest[0] === encodeURIComponent(rest[0]) &&\n    rest[1] === encodeURIComponent(rest[1])\n}\n\nfunction isCorrectlyEncodedName(spec) {\n  return !spec.match(/[\\/@\\s\\+%:]/) &&\n    spec === encodeURIComponent(spec)\n}\n\nfunction ensureValidName (name, strict, allowLegacyCase) {\n  if (name.charAt(0) === \".\" ||\n      !(isValidScopedPackageName(name) || isCorrectlyEncodedName(name)) ||\n      (strict && (!allowLegacyCase) && name !== name.toLowerCase()) ||\n      name.toLowerCase() === \"node_modules\" ||\n      name.toLowerCase() === \"favicon.ico\") {\n        throw new Error(\"Invalid name: \" + JSON.stringify(name))\n  }\n}\n\nfunction modifyPeople (data, fn) {\n  if (data.author) data.author = fn(data.author)\n  ;[\"maintainers\", \"contributors\"].forEach(function (set) {\n    if (!Array.isArray(data[set])) return;\n    data[set] = data[set].map(fn)\n  })\n  return data\n}\n\nfunction unParsePerson (person) {\n  if (typeof person === \"string\") return person\n  var name = person.name || \"\"\n  var u = person.url || person.web\n  var url = u ? (\" (\"+u+\")\") : \"\"\n  var e = person.email || person.mail\n  var email = e ? (\" <\"+e+\">\") : \"\"\n  return name+email+url\n}\n\nfunction parsePerson (person) {\n  if (typeof person !== \"string\") return person\n  var name = person.match(/^([^\\(<]+)/)\n  var url = person.match(/\\(([^\\)]+)\\)/)\n  var email = person.match(/<([^>]+)>/)\n  var obj = {}\n  if (name && name[0].trim()) obj.name = name[0].trim()\n  if (email) obj.email = email[1];\n  if (url) obj.url = url[1];\n  return obj\n}\n\nfunction addOptionalDepsToDeps (data, warn) {\n  var o = data.optionalDependencies\n  if (!o) return;\n  var d = data.dependencies || {}\n  Object.keys(o).forEach(function (k) {\n    d[k] = o[k]\n  })\n  data.dependencies = d\n}\n\nfunction depObjectify (deps, type, warn) {\n  if (!deps) return {}\n  if (typeof deps === \"string\") {\n    deps = deps.trim().split(/[\\n\\r\\s\\t ,]+/)\n  }\n  if (!Array.isArray(deps)) return deps\n  warn(\"deprecatedArrayDependencies\", type)\n  var o = {}\n  deps.filter(function (d) {\n    return typeof d === \"string\"\n  }).forEach(function(d) {\n    d = d.trim().split(/(:?[@\\s><=])/)\n    var dn = d.shift()\n    var dv = d.join(\"\")\n    dv = dv.trim()\n    dv = dv.replace(/^@/, \"\")\n    o[dn] = dv\n  })\n  return o\n}\n\nfunction objectifyDeps (data, warn) {\n  depTypes.forEach(function (type) {\n    if (!data[type]) return;\n    data[type] = depObjectify(data[type], type, warn)\n  })\n}\n\nfunction bugsTypos(bugs, warn) {\n  if (!bugs) return\n  Object.keys(bugs).forEach(function (k) {\n    if (typos.bugs[k]) {\n      warn(\"typo\", k, typos.bugs[k], \"bugs\")\n      bugs[typos.bugs[k]] = bugs[k]\n      delete bugs[k]\n    }\n  })\n}\n"]}