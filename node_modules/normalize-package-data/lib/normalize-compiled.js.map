{"version":3,"sources":["normalize.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,GAAiB,SAAjB;;AAEA,IAAI,QAAQ,QAAQ,SAAR,CAAR;AACJ,UAAU,KAAV,GAAkB,KAAlB;;AAEA,IAAI,cAAc,QAAQ,gBAAR,CAAd;;AAEJ,IAAI,cAAc,CAAC,MAAD,EAAQ,SAAR,EAAkB,aAAlB,EAAgC,YAAhC,EAA6C,SAA7C,EAAuD,SAAvD,EACC,OADD,EACS,KADT,EACe,KADf,EACqB,MADrB,EAC4B,UAD5B,EACuC,QADvC,EACgD,UADhD,EAC2D,SAD3D,CAAd;AAEJ,IAAI,mBAAmB,CAAC,cAAD,EAAgB,QAAhB,EAA0B,OAA1B,CAAnB;;AAEJ,IAAI,cAAc,YAAY,GAAZ,CAAgB,UAAS,SAAT,EAAoB;AACpD,SAAO,QAAQ,SAAR,IAAqB,OAArB,CAD6C;CAApB,CAA9B;;;;AAMJ,cAAc,YAAY,MAAZ,CAAmB,gBAAnB,CAAd;;AAEA,SAAS,SAAT,CAAoB,IAApB,EAA0B,IAA1B,EAAgC,MAAhC,EAAwC;AACtC,MAAG,SAAS,IAAT,EAAe,OAAO,IAAP,EAAa,SAAS,IAAT,CAA/B;AACA,MAAG,CAAC,MAAD,EAAS,SAAS,KAAT,CAAZ;AACA,MAAG,CAAC,IAAD,IAAS,KAAK,OAAL,EAAc,OAAO,UAAS,GAAT,EAAc,YAAd,CAAjC;;AAEA,MAAI,KAAK,OAAL,IACA,KAAK,OAAL,CAAa,OAAb,KAAyB,kBAAzB,IACA,CAAC,KAAK,OAAL,CAAa,UAAb,EAAyB;AAC5B,SAAK,OAAL,GAAe,IAAf,CAD4B;GAF9B;AAKA,QAAM,IAAN,GAAa,YAAW;AAAE,SAAK,YAAY,KAAZ,CAAkB,IAAlB,EAAwB,SAAxB,CAAL,EAAF;GAAX,CAVyB;AAWtC,cAAY,OAAZ,CAAoB,UAAS,SAAT,EAAoB;AACtC,UAAM,QAAQ,QAAQ,SAAR,CAAR,CAAN,CAAkC,IAAlC,EAAwC,MAAxC,EADsC;GAApB,CAApB,CAXsC;AActC,OAAK,GAAL,GAAW,KAAK,IAAL,GAAY,GAAZ,GAAkB,KAAK,OAAL,CAdS;CAAxC;;AAiBA,SAAS,OAAT,CAAkB,MAAlB,EAA0B;AACxB,SAAO,OAAO,MAAP,CAAc,CAAd,EAAiB,WAAjB,KAAiC,OAAO,KAAP,CAAa,CAAb,CAAjC,CADiB;CAA1B","file":"normalize-compiled.js","sourcesContent":["module.exports = normalize\n\nvar fixer = require(\"./fixer\")\nnormalize.fixer = fixer\n\nvar makeWarning = require(\"./make_warning\")\n\nvar fieldsToFix = ['name','version','description','repository','modules','scripts'\n                  ,'files','bin','man','bugs','keywords','readme','homepage','license']\nvar otherThingsToFix = ['dependencies','people', 'typos']\n\nvar thingsToFix = fieldsToFix.map(function(fieldName) { \n  return ucFirst(fieldName) + \"Field\"\n})\n// two ways to do this in CoffeeScript on only one line, sub-70 chars:\n// thingsToFix = fieldsToFix.map (name) -> ucFirst(name) + \"Field\"\n// thingsToFix = (ucFirst(name) + \"Field\" for name in fieldsToFix)\nthingsToFix = thingsToFix.concat(otherThingsToFix)\n\nfunction normalize (data, warn, strict) {\n  if(warn === true) warn = null, strict = true\n  if(!strict) strict = false\n  if(!warn || data.private) warn = function(msg) { /* noop */ }\n\n  if (data.scripts && \n      data.scripts.install === \"node-gyp rebuild\" && \n      !data.scripts.preinstall) {\n    data.gypfile = true\n  }\n  fixer.warn = function() { warn(makeWarning.apply(null, arguments)) }\n  thingsToFix.forEach(function(thingName) {\n    fixer[\"fix\" + ucFirst(thingName)](data, strict)\n  })\n  data._id = data.name + \"@\" + data.version\n}\n\nfunction ucFirst (string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n"]}