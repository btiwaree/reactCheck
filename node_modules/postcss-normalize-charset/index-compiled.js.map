{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA,IAAI,UAAU,QAAQ,SAAR,CAAV;;AAEJ,OAAO,OAAP,GAAiB,QAAQ,MAAR,CAAe,2BAAf,EAA4C,UAAU,IAAV,EAAgB;AACzE,WAAO,QAAQ,EAAR,CADkE;;AAGzE,WAAO,UAAU,GAAV,EAAe;AAClB,YAAI,WAAJ,CADkB;AAElB,YAAI,YAAJ,CAFkB;AAGlB,YAAI,WAAW,cAAX,CAHc;;AAKlB,YAAI,IAAJ,CAAS,UAAU,IAAV,EAAgB;AACrB,gBAAI,KAAK,IAAL,KAAc,QAAd,IAA0B,KAAK,IAAL,KAAc,SAAd,EAAyB;AACnD,oBAAI,CAAC,WAAD,EAAc;AACd,kCAAc,IAAd,CADc;iBAAlB;AAGA,qBAAK,MAAL,GAJmD;aAAvD,MAKO,IAAI,CAAC,YAAD,IAAiB,KAAK,MAAL,IAAe,KAAK,MAAL,CAAY,IAAZ,KAAqB,MAArB,IAA+B,SAAS,IAAT,CAAc,IAAd,CAA/D,EAAoF;AAC3F,+BAAe,IAAf,CAD2F;aAAxF;SANF,CAAT,CALkB;;AAgBlB,YAAI,YAAJ,EAAkB;AACd,gBAAI,CAAC,WAAD,IAAgB,KAAK,GAAL,KAAa,KAAb,EAAoB;AACpC,8BAAc,QAAQ,MAAR,CAAe;AACzB,0BAAM,SAAN;AACA,4BAAQ,SAAR;iBAFU,CAAd,CADoC;aAAxC;AAMA,gBAAI,WAAJ,EAAiB;AACb,4BAAY,MAAZ,GAAqB,aAAa,MAAb,CADR;AAEb,oBAAI,IAAJ,GAAW,OAAX,CAAmB,WAAnB,EAFa;aAAjB;SAPJ;KAhBG,CAHkE;CAAhB,CAA7D","file":"index-compiled.js","sourcesContent":["var postcss = require('postcss');\r\n\r\nmodule.exports = postcss.plugin('postcss-normalize-charset', function (opts) {\r\n    opts = opts || {};\r\n\r\n    return function (css) {\r\n        var charsetRule;\r\n        var nonAsciiNode;\r\n        var nonAscii = /[^\\x00-\\x7F]/;\r\n\r\n        css.walk(function (node) {\r\n            if (node.type === 'atrule' && node.name === 'charset') {\r\n                if (!charsetRule) {\r\n                    charsetRule = node;\r\n                }\r\n                node.remove();\r\n            } else if (!nonAsciiNode && node.parent && node.parent.type === 'root' && nonAscii.test(node)) {\r\n                nonAsciiNode = node;\r\n            }\r\n        });\r\n\r\n        if (nonAsciiNode) {\r\n            if (!charsetRule && opts.add !== false) {\r\n                charsetRule = postcss.atRule({\r\n                    name: 'charset',\r\n                    params: '\"utf-8\"'\r\n                });\r\n            }\r\n            if (charsetRule) {\r\n                charsetRule.source = nonAsciiNode.source;\r\n                css.root().prepend(charsetRule);\r\n            }\r\n        }\r\n    };\r\n});\r\n"]}