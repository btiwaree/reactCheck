{"version":3,"sources":["cli.js"],"names":[],"mappings":";AACA;;AAEA,IAAI,OAAO,QAAQ,UAAR,EAAoB,QAAQ,IAAR,CAAa,KAAb,CAAmB,CAAnB,CAApB,EAA2C;AACpD,SAAO;AACL,OAAG,OAAH;AACA,OAAG,QAAH;AACA,OAAG,MAAH;AACA,OAAG,SAAH;GAJF;AAMA,UAAQ,CAAC,GAAD,CAAR;AACA,WAAS,CAAC,QAAD,EAAW,MAAX,EAAmB,SAAnB,CAAT;CARS,CAAP;;AAWJ,SAAS,IAAT,GAAgB;AACd,MAAI,QAAQ,QAAQ,QAAR,CAAR,CADU;AAEd,MAAI,SAAS,QAAQ,OAAR,EAAiB,MAAjB,CAFC;;AAId,MAAI,MAAM,QAAQ,gBAAR,CAAN,CAJU;;AAMd,UAAQ,GAAR,CAAY,CACV,MAAM,GAAN,CADU,EAEV,EAFU,EAGV,0EAHU,EAIV,iFAJU,EAKV,EALU,EAMV,QANU,EAOV,OAAO,eAAP,IAA0B,gDAA1B,EACA,OAAO,eAAP,IAA0B,6CAA1B,EACA,OAAO,eAAP,IAA0B,iBAA1B,EACA,OAAO,eAAP,IAA0B,2BAA1B,CAVU,CAWV,IAXU,CAWL,IAXK,CAAZ,EANc;CAAhB;;AAoBA,SAAS,QAAT,CAAkB,GAAlB,EAAuB;AACrB,UAAQ,MAAR,CAAe,KAAf,CAAqB,MAAM,IAAN,EAAY,YAAW;AAC1C,YAAQ,IAAR,CAAa,CAAb,EAD0C;GAAX,CAAjC,CADqB;CAAvB;;AAMA,SAAS,GAAT,CAAa,IAAb,EAAmB;AACjB,MAAI,IAAJ,EAAU;AACR,QAAI,KAAK,KAAL,KAAe,SAAf,EAA0B;AAC5B,UAAI,OAAO,KAAK,KAAL,KAAe,QAAtB,EAAgC;AAClC,iBAAS,0CAAT,EADkC;OAApC,MAEO;AACL,YAAI,YAAY,QAAQ,IAAR,CAAZ,CADC;AAEL,YAAI;AACF,kBAAQ,GAAR,CAAY,UAAU,KAAK,IAAL,EAAV,EAAuB,KAAK,KAAL,EAAY,EAAC,QAAQ,KAAK,MAAL,EAA5C,CAAZ,EADE;SAAJ,CAEE,OAAO,CAAP,EAAU;AACV,mBAAS,EAAE,OAAF,CAAT,CADU;SAAV;OANJ;KADF,MAWO;AACL,eAAS,kCAAT,EADK;KAXP;GADF,MAeO,IAAI,CAAC,QAAQ,KAAR,CAAc,KAAd,EAAqB;AAC/B,YAAQ,GAAR,CAAY,GAAZ,EAD+B;GAA1B,MAEA;AACL,WADK;GAFA;CAhBT;;AAuBA,IAAI,KAAK,OAAL,EAAc;AAChB,UAAQ,GAAR,CAAY,QAAQ,gBAAR,EAA0B,OAA1B,CAAZ,CADgB;CAAlB,MAEO,IAAI,KAAK,IAAL,EAAW;AACpB,SADoB;CAAf,MAEA,IAAI,QAAQ,KAAR,CAAc,KAAd,EAAqB;AAC9B,MAAI,KAAK,CAAL,CAAO,CAAP,CAAJ,EAD8B;CAAzB,MAEA;AACL,UAAQ,WAAR,EAAqB,GAArB,EADK;CAFA","file":"cli-compiled.js","sourcesContent":["#!/usr/bin/env node\n'use strict';\n\nvar argv = require('minimist')(process.argv.slice(2), {\n  alias: {\n    c: 'count',\n    n: 'narrow',\n    h: 'help',\n    v: 'version'\n  },\n  string: ['_'],\n  boolean: ['narrow', 'help', 'version']\n});\n\nfunction help() {\n  var sumUp = require('sum-up');\n  var yellow = require('chalk').yellow;\n\n  var pkg = require('./package.json');\n\n  console.log([\n    sumUp(pkg),\n    '',\n    'Usage 1: $ strip-dirs <string> --count(or -c) <number> [--narrow(or -n)]',\n    'Usage 2: $ echo <string> | strip-dirs --count(or -c) <number> [--narrow(or -n)]',\n    '',\n    'Flags:',\n    yellow('--count,   -c') + '  Number of directories to strip from the path',\n    yellow('--narrow,  -n') + '  Disallow surplus count of directory level',\n    yellow('--version, -v') + '  Print version',\n    yellow('--help,    -h') + '  Print usage information'\n  ].join('\\n'));\n}\n\nfunction printErr(msg) {\n  process.stderr.write(msg + '\\n', function() {\n    process.exit(1);\n  });\n}\n\nfunction run(path) {\n  if (path) {\n    if (argv.count !== undefined) {\n      if (typeof argv.count !== 'number') {\n        printErr('--count (or -c) option must be a number.');\n      } else {\n        var stripDirs = require('./');\n        try {\n          console.log(stripDirs(path.trim(), argv.count, {narrow: argv.narrow}));\n        } catch (e) {\n          printErr(e.message);\n        }\n      }\n    } else {\n      printErr('--count (or -c) option required.');\n    }\n  } else if (!process.stdin.isTTY) {\n    console.log('.');\n  } else {\n    help();\n  }\n}\n\nif (argv.version) {\n  console.log(require('./package.json').version);\n} else if (argv.help) {\n  help();\n} else if (process.stdin.isTTY) {\n  run(argv._[0]);\n} else {\n  require('get-stdin')(run);\n}\n"]}