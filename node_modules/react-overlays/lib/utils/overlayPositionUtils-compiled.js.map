{"version":3,"sources":["overlayPositionUtils.js"],"names":[],"mappings":"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","file":"overlayPositionUtils-compiled.js","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _ownerDocument = require('./ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nvar _domHelpersQueryOffset = require('dom-helpers/query/offset');\n\nvar _domHelpersQueryOffset2 = _interopRequireDefault(_domHelpersQueryOffset);\n\nvar _domHelpersQueryPosition = require('dom-helpers/query/position');\n\nvar _domHelpersQueryPosition2 = _interopRequireDefault(_domHelpersQueryPosition);\n\nvar _domHelpersQueryScrollTop = require('dom-helpers/query/scrollTop');\n\nvar _domHelpersQueryScrollTop2 = _interopRequireDefault(_domHelpersQueryScrollTop);\n\nvar utils = {\n\n  getContainerDimensions: function getContainerDimensions(containerNode) {\n    var width = undefined,\n        height = undefined,\n        scroll = undefined;\n\n    if (containerNode.tagName === 'BODY') {\n      width = window.innerWidth;\n      height = window.innerHeight;\n\n      scroll = _domHelpersQueryScrollTop2['default'](_ownerDocument2['default'](containerNode).documentElement) || _domHelpersQueryScrollTop2['default'](containerNode);\n    } else {\n      var _getOffset = _domHelpersQueryOffset2['default'](containerNode);\n\n      width = _getOffset.width;\n      height = _getOffset.height;\n\n      scroll = _domHelpersQueryScrollTop2['default'](containerNode);\n    }\n\n    return { width: width, height: height, scroll: scroll };\n  },\n\n  getPosition: function getPosition(target, container) {\n    var offset = container.tagName === 'BODY' ? _domHelpersQueryOffset2['default'](target) : _domHelpersQueryPosition2['default'](target, container);\n\n    return offset;\n  },\n\n  calcOverlayPosition: function calcOverlayPosition(placement, overlayNode, target, container, padding) {\n    var childOffset = utils.getPosition(target, container);\n\n    var _getOffset2 = _domHelpersQueryOffset2['default'](overlayNode);\n\n    var overlayHeight = _getOffset2.height;\n    var overlayWidth = _getOffset2.width;\n\n    var positionLeft = undefined,\n        positionTop = undefined,\n        arrowOffsetLeft = undefined,\n        arrowOffsetTop = undefined;\n\n    if (placement === 'left' || placement === 'right') {\n      positionTop = childOffset.top + (childOffset.height - overlayHeight) / 2;\n\n      if (placement === 'left') {\n        positionLeft = childOffset.left - overlayWidth;\n      } else {\n        positionLeft = childOffset.left + childOffset.width;\n      }\n\n      var topDelta = getTopDelta(positionTop, overlayHeight, container, padding);\n\n      positionTop += topDelta;\n      arrowOffsetTop = 50 * (1 - 2 * topDelta / overlayHeight) + '%';\n      arrowOffsetLeft = void 0;\n    } else if (placement === 'top' || placement === 'bottom') {\n      positionLeft = childOffset.left + (childOffset.width - overlayWidth) / 2;\n\n      if (placement === 'top') {\n        positionTop = childOffset.top - overlayHeight;\n      } else {\n        positionTop = childOffset.top + childOffset.height;\n      }\n\n      var leftDelta = getLeftDelta(positionLeft, overlayWidth, container, padding);\n      positionLeft += leftDelta;\n      arrowOffsetLeft = 50 * (1 - 2 * leftDelta / overlayWidth) + '%';\n      arrowOffsetTop = void 0;\n    } else {\n      throw new Error('calcOverlayPosition(): No such placement of \"' + placement + '\" found.');\n    }\n\n    return { positionLeft: positionLeft, positionTop: positionTop, arrowOffsetLeft: arrowOffsetLeft, arrowOffsetTop: arrowOffsetTop };\n  }\n};\n\nfunction getTopDelta(top, overlayHeight, container, padding) {\n  var containerDimensions = utils.getContainerDimensions(container);\n  var containerScroll = containerDimensions.scroll;\n  var containerHeight = containerDimensions.height;\n\n  var topEdgeOffset = top - padding - containerScroll;\n  var bottomEdgeOffset = top + padding - containerScroll + overlayHeight;\n\n  if (topEdgeOffset < 0) {\n    return -topEdgeOffset;\n  } else if (bottomEdgeOffset > containerHeight) {\n    return containerHeight - bottomEdgeOffset;\n  } else {\n    return 0;\n  }\n}\n\nfunction getLeftDelta(left, overlayWidth, container, padding) {\n  var containerDimensions = utils.getContainerDimensions(container);\n  var containerWidth = containerDimensions.width;\n\n  var leftEdgeOffset = left - padding;\n  var rightEdgeOffset = left + padding + overlayWidth;\n\n  if (leftEdgeOffset < 0) {\n    return -leftEdgeOffset;\n  } else if (rightEdgeOffset > containerWidth) {\n    return containerWidth - rightEdgeOffset;\n  } else {\n    return 0;\n  }\n}\nexports['default'] = utils;\nmodule.exports = exports['default'];"]}