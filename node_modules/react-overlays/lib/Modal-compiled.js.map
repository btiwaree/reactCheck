{"version":3,"sources":["Modal.js"],"names":[],"mappings":"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","file":"Modal-compiled.js","sourcesContent":["/*eslint-disable react/prop-types */\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _reactPropTypesLibMountable = require('react-prop-types/lib/mountable');\n\nvar _reactPropTypesLibMountable2 = _interopRequireDefault(_reactPropTypesLibMountable);\n\nvar _reactPropTypesLibElementType = require('react-prop-types/lib/elementType');\n\nvar _reactPropTypesLibElementType2 = _interopRequireDefault(_reactPropTypesLibElementType);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _ModalManager = require('./ModalManager');\n\nvar _ModalManager2 = _interopRequireDefault(_ModalManager);\n\nvar _utilsOwnerDocument = require('./utils/ownerDocument');\n\nvar _utilsOwnerDocument2 = _interopRequireDefault(_utilsOwnerDocument);\n\nvar _utilsAddEventListener = require('./utils/addEventListener');\n\nvar _utilsAddEventListener2 = _interopRequireDefault(_utilsAddEventListener);\n\nvar _utilsAddFocusListener = require('./utils/addFocusListener');\n\nvar _utilsAddFocusListener2 = _interopRequireDefault(_utilsAddFocusListener);\n\nvar _domHelpersUtilInDOM = require('dom-helpers/util/inDOM');\n\nvar _domHelpersUtilInDOM2 = _interopRequireDefault(_domHelpersUtilInDOM);\n\nvar _domHelpersActiveElement = require('dom-helpers/activeElement');\n\nvar _domHelpersActiveElement2 = _interopRequireDefault(_domHelpersActiveElement);\n\nvar _domHelpersQueryContains = require('dom-helpers/query/contains');\n\nvar _domHelpersQueryContains2 = _interopRequireDefault(_domHelpersQueryContains);\n\nvar _utilsGetContainer = require('./utils/getContainer');\n\nvar _utilsGetContainer2 = _interopRequireDefault(_utilsGetContainer);\n\nvar modalManager = new _ModalManager2['default']();\n\n/**\n * Love them or hate them, `<Modal/>` provides a solid foundation for creating dialogs, lightboxes, or whatever else.\n * The Modal component renders its `children` node in front of a backdrop component.\n *\n * The Modal offers a few helpful features over using just a `<Portal/>` component and some styles:\n *\n * - Manages dialog stacking when one-at-a-time just isn't enough.\n * - Creates a backdrop, for disabling interaction below the modal.\n * - It properly manages focus; moving to the modal content, and keeping it there until the modal is closed.\n * - It disables scrolling of the page content while open.\n * - Adds the appropriate ARIA roles are automatically.\n * - Easily pluggable animations via a `<Transition/>` component.\n *\n * Note that, in the same way the backdrop element prevents users from clicking or interacting\n * with the page content underneath the Modal, Screen readers also need to be signaled to not to\n * interact with page content while the Modal is open. To do this, we use a common technique of applying\n * the `aria-hidden='true'` attribute to the non-Modal elements in the Modal `container`. This means that for\n * a Modal to be truly modal, it should have a `container` that is _outside_ your app's\n * React hierarchy (such as the default: document.body).\n */\nvar Modal = _react2['default'].createClass({\n  displayName: 'Modal',\n\n  propTypes: _extends({}, _Portal2['default'].propTypes, {\n\n    /**\n     * Set the visibility of the Modal\n     */\n    show: _react2['default'].PropTypes.bool,\n\n    /**\n     * A Node, Component instance, or function that returns either. The Modal is appended to it's container element.\n     *\n     * For the sake of assistive technologies, the container should usually be the document body, so that the rest of the\n     * page content can be placed behind a virtual backdrop as well as a visual one.\n     */\n    container: _react2['default'].PropTypes.oneOfType([_reactPropTypesLibMountable2['default'], _react2['default'].PropTypes.func]),\n\n    /**\n     * A callback fired when the Modal is opening.\n     */\n    onShow: _react2['default'].PropTypes.func,\n\n    /**\n     * A callback fired when either the backdrop is clicked, or the escape key is pressed.\n     *\n     * The `onHide` callback only signals intent from the Modal,\n     * you must actually set the `show` prop to `false` for the Modal to close.\n     */\n    onHide: _react2['default'].PropTypes.func,\n\n    /**\n     * Include a backdrop component.\n     */\n    backdrop: _react2['default'].PropTypes.oneOfType([_react2['default'].PropTypes.bool, _react2['default'].PropTypes.oneOf(['static'])]),\n\n    /**\n     * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n     */\n    onEscapeKeyUp: _react2['default'].PropTypes.func,\n\n    /**\n     * A callback fired when the backdrop, if specified, is clicked.\n     */\n    onBackdropClick: _react2['default'].PropTypes.func,\n\n    /**\n     * A style object for the backdrop component.\n     */\n    backdropStyle: _react2['default'].PropTypes.object,\n\n    /**\n     * A css class or classes for the backdrop component.\n     */\n    backdropClassName: _react2['default'].PropTypes.string,\n\n    /**\n     * A css class or set of classes applied to the modal container when the modal is open,\n     * and removed when it is closed.\n     */\n    containerClassName: _react2['default'].PropTypes.string,\n\n    /**\n     * Close the modal when escape key is pressed\n     */\n    keyboard: _react2['default'].PropTypes.bool,\n\n    /**\n     * A `<Transition/>` component to use for the dialog and backdrop components.\n     */\n    transition: _reactPropTypesLibElementType2['default'],\n\n    /**\n     * The `timeout` of the dialog transition if specified. This number is used to ensure that\n     * transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    dialogTransitionTimeout: _react2['default'].PropTypes.number,\n\n    /**\n     * The `timeout` of the backdrop transition if specified. This number is used to\n     * ensure that transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    backdropTransitionTimeout: _react2['default'].PropTypes.number,\n\n    /**\n     * When `true` The modal will automatically shift focus to itself when it opens, and\n     * replace it to the last focused element when it closes. This also\n     * works correctly with any Modal children that have the `autoFocus` prop.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    autoFocus: _react2['default'].PropTypes.bool,\n\n    /**\n     * When `true` The modal will prevent focus from leaving the Modal while open.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    enforceFocus: _react2['default'].PropTypes.bool,\n\n    /**\n     * Callback fired before the Modal transitions in\n     */\n    onEnter: _react2['default'].PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition in\n     */\n    onEntering: _react2['default'].PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning in\n     */\n    onEntered: _react2['default'].PropTypes.func,\n\n    /**\n     * Callback fired right before the Modal transitions out\n     */\n    onExit: _react2['default'].PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition out\n     */\n    onExiting: _react2['default'].PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning out\n     */\n    onExited: _react2['default'].PropTypes.func\n\n  }),\n\n  getDefaultProps: function getDefaultProps() {\n    var noop = function noop() {};\n\n    return {\n      show: false,\n      backdrop: true,\n      keyboard: true,\n      autoFocus: true,\n      enforceFocus: true,\n      onHide: noop\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return { exited: !this.props.show };\n  },\n\n  render: function render() {\n    var _props = this.props;\n    var children = _props.children;\n    var Transition = _props.transition;\n    var backdrop = _props.backdrop;\n    var dialogTransitionTimeout = _props.dialogTransitionTimeout;\n\n    var props = _objectWithoutProperties(_props, ['children', 'transition', 'backdrop', 'dialogTransitionTimeout']);\n\n    var onExit = props.onExit;\n    var onExiting = props.onExiting;\n    var onEnter = props.onEnter;\n    var onEntering = props.onEntering;\n    var onEntered = props.onEntered;\n\n    var show = !!props.show;\n    var dialog = _react2['default'].Children.only(this.props.children);\n\n    var mountModal = show || Transition && !this.state.exited;\n\n    if (!mountModal) {\n      return null;\n    }\n\n    var _dialog$props = dialog.props;\n    var role = _dialog$props.role;\n    var tabIndex = _dialog$props.tabIndex;\n\n    if (role === undefined || tabIndex === undefined) {\n      dialog = _react.cloneElement(dialog, {\n        role: role === undefined ? 'document' : role,\n        tabIndex: tabIndex == null ? '-1' : tabIndex\n      });\n    }\n\n    if (Transition) {\n      dialog = _react2['default'].createElement(\n        Transition,\n        {\n          transitionAppear: true,\n          unmountOnExit: true,\n          'in': show,\n          timeout: dialogTransitionTimeout,\n          onExit: onExit,\n          onExiting: onExiting,\n          onExited: this.handleHidden,\n          onEnter: onEnter,\n          onEntering: onEntering,\n          onEntered: onEntered\n        },\n        dialog\n      );\n    }\n\n    return _react2['default'].createElement(\n      _Portal2['default'],\n      {\n        ref: this.setMountNode,\n        container: props.container\n      },\n      _react2['default'].createElement(\n        'div',\n        {\n          ref: 'modal',\n          role: props.role || 'dialog',\n          style: props.style,\n          className: props.className\n        },\n        backdrop && this.renderBackdrop(),\n        dialog\n      )\n    );\n  },\n\n  renderBackdrop: function renderBackdrop() {\n    var _props2 = this.props;\n    var Transition = _props2.transition;\n    var backdropTransitionTimeout = _props2.backdropTransitionTimeout;\n\n    var backdrop = _react2['default'].createElement('div', { ref: 'backdrop',\n      style: this.props.backdropStyle,\n      className: this.props.backdropClassName,\n      onClick: this.handleBackdropClick\n    });\n\n    if (Transition) {\n      backdrop = _react2['default'].createElement(\n        Transition,\n        { transitionAppear: true,\n          'in': this.props.show,\n          timeout: backdropTransitionTimeout\n        },\n        backdrop\n      );\n    }\n\n    return backdrop;\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.show) {\n      this.setState({ exited: false });\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      this.setState({ exited: true });\n    }\n  },\n\n  componentWillUpdate: function componentWillUpdate(nextProps) {\n    if (nextProps.show) {\n      this.checkForFocus();\n    }\n  },\n\n  componentDidMount: function componentDidMount() {\n    if (this.props.show) {\n      this.onShow();\n    }\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var transition = this.props.transition;\n\n    if (prevProps.show && !this.props.show && !transition) {\n      // Otherwise handleHidden will call this.\n      this.onHide();\n    } else if (!prevProps.show && this.props.show) {\n      this.onShow();\n    }\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    var _props3 = this.props;\n    var show = _props3.show;\n    var transition = _props3.transition;\n\n    if (show || transition && !this.state.exited) {\n      this.onHide();\n    }\n  },\n\n  onShow: function onShow() {\n    var doc = _utilsOwnerDocument2['default'](this);\n    var container = _utilsGetContainer2['default'](this.props.container, doc.body);\n\n    modalManager.add(this, container, this.props.containerClassName);\n\n    this._onDocumentKeyupListener = _utilsAddEventListener2['default'](doc, 'keyup', this.handleDocumentKeyUp);\n\n    this._onFocusinListener = _utilsAddFocusListener2['default'](this.enforceFocus);\n\n    this.focus();\n\n    if (this.props.onShow) {\n      this.props.onShow();\n    }\n  },\n\n  onHide: function onHide() {\n    modalManager.remove(this);\n\n    this._onDocumentKeyupListener.remove();\n\n    this._onFocusinListener.remove();\n\n    this.restoreLastFocus();\n  },\n\n  setMountNode: function setMountNode(ref) {\n    this.mountNode = ref ? ref.getMountNode() : ref;\n  },\n\n  handleHidden: function handleHidden() {\n    this.setState({ exited: true });\n    this.onHide();\n\n    if (this.props.onExited) {\n      var _props4;\n\n      (_props4 = this.props).onExited.apply(_props4, arguments);\n    }\n  },\n\n  handleBackdropClick: function handleBackdropClick(e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    if (this.props.onBackdropClick) {\n      this.props.onBackdropClick(e);\n    }\n\n    if (this.props.backdrop === true) {\n      this.props.onHide();\n    }\n  },\n\n  handleDocumentKeyUp: function handleDocumentKeyUp(e) {\n    if (this.props.keyboard && e.keyCode === 27 && this.isTopModal()) {\n      if (this.props.onEscapeKeyUp) {\n        this.props.onEscapeKeyUp(e);\n      }\n      this.props.onHide();\n    }\n  },\n\n  checkForFocus: function checkForFocus() {\n    if (_domHelpersUtilInDOM2['default']) {\n      this.lastFocus = _domHelpersActiveElement2['default']();\n    }\n  },\n\n  focus: function focus() {\n    var autoFocus = this.props.autoFocus;\n    var modalContent = this.getDialogElement();\n    var current = _domHelpersActiveElement2['default'](_utilsOwnerDocument2['default'](this));\n    var focusInModal = current && _domHelpersQueryContains2['default'](modalContent, current);\n\n    if (modalContent && autoFocus && !focusInModal) {\n      this.lastFocus = current;\n\n      if (!modalContent.hasAttribute('tabIndex')) {\n        modalContent.setAttribute('tabIndex', -1);\n        _warning2['default'](false, 'The modal content node does not accept focus. ' + 'For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\".');\n      }\n\n      modalContent.focus();\n    }\n  },\n\n  restoreLastFocus: function restoreLastFocus() {\n    // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n    if (this.lastFocus && this.lastFocus.focus) {\n      this.lastFocus.focus();\n      this.lastFocus = null;\n    }\n  },\n\n  enforceFocus: function enforceFocus() {\n    var enforceFocus = this.props.enforceFocus;\n\n    if (!enforceFocus || !this.isMounted() || !this.isTopModal()) {\n      return;\n    }\n\n    var active = _domHelpersActiveElement2['default'](_utilsOwnerDocument2['default'](this));\n    var modal = this.getDialogElement();\n\n    if (modal && modal !== active && !_domHelpersQueryContains2['default'](modal, active)) {\n      modal.focus();\n    }\n  },\n\n  //instead of a ref, which might conflict with one the parent applied.\n  getDialogElement: function getDialogElement() {\n    var node = this.refs.modal;\n    return node && node.lastChild;\n  },\n\n  isTopModal: function isTopModal() {\n    return modalManager.isTopModal(this);\n  }\n\n});\n\nModal.manager = modalManager;\n\nexports['default'] = Modal;\nmodule.exports = exports['default'];"]}