{"version":3,"sources":["Position.js"],"names":[],"mappings":"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","file":"Position-compiled.js","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _utilsOwnerDocument = require('./utils/ownerDocument');\n\nvar _utilsOwnerDocument2 = _interopRequireDefault(_utilsOwnerDocument);\n\nvar _utilsGetContainer = require('./utils/getContainer');\n\nvar _utilsGetContainer2 = _interopRequireDefault(_utilsGetContainer);\n\nvar _utilsOverlayPositionUtils = require('./utils/overlayPositionUtils');\n\nvar _reactPropTypesLibMountable = require('react-prop-types/lib/mountable');\n\nvar _reactPropTypesLibMountable2 = _interopRequireDefault(_reactPropTypesLibMountable);\n\n/**\n * The Position component calculates the coordinates for its child, to\n * position it relative to a `target` component or node. Useful for creating callouts and tooltips,\n * the Position component injects a `style` props with `left` and `top` values for positioning your component.\n *\n * It also injects \"arrow\" `left`, and `top` values for styling callout arrows for giving your components\n * a sense of directionality.\n */\n\nvar Position = (function (_React$Component) {\n  _inherits(Position, _React$Component);\n\n  function Position(props, context) {\n    _classCallCheck(this, Position);\n\n    _React$Component.call(this, props, context);\n\n    this.state = {\n      positionLeft: 0,\n      positionTop: 0,\n      arrowOffsetLeft: null,\n      arrowOffsetTop: null\n    };\n\n    this._needsFlush = false;\n    this._lastTarget = null;\n  }\n\n  Position.prototype.componentDidMount = function componentDidMount() {\n    this.updatePosition();\n  };\n\n  Position.prototype.componentWillReceiveProps = function componentWillReceiveProps() {\n    this._needsFlush = true;\n  };\n\n  Position.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (this._needsFlush) {\n      this._needsFlush = false;\n      this.updatePosition(prevProps.placement !== this.props.placement);\n    }\n  };\n\n  Position.prototype.componentWillUnmount = function componentWillUnmount() {\n    // Probably not necessary, but just in case holding a reference to the\n    // target causes problems somewhere.\n    this._lastTarget = null;\n  };\n\n  Position.prototype.render = function render() {\n    var _props = this.props;\n    var children = _props.children;\n    var className = _props.className;\n\n    var props = _objectWithoutProperties(_props, ['children', 'className']);\n\n    var _state = this.state;\n    var positionLeft = _state.positionLeft;\n    var positionTop = _state.positionTop;\n\n    var arrowPosition = _objectWithoutProperties(_state, ['positionLeft', 'positionTop']);\n\n    // These should not be forwarded to the child.\n    delete props.target;\n    delete props.container;\n    delete props.containerPadding;\n\n    var child = _react2['default'].Children.only(children);\n    return _react.cloneElement(child, _extends({}, props, arrowPosition, {\n      //do we need to also forward positionLeft and positionTop if they are set to style?\n      positionLeft: positionLeft,\n      positionTop: positionTop,\n      className: _classnames2['default'](className, child.props.className),\n      style: _extends({}, child.props.style, {\n        left: positionLeft,\n        top: positionTop\n      })\n    }));\n  };\n\n  Position.prototype.getTargetSafe = function getTargetSafe() {\n    if (!this.props.target) {\n      return null;\n    }\n\n    var target = this.props.target(this.props);\n    if (!target) {\n      // This is so we can just use === check below on all falsy targets.\n      return null;\n    }\n\n    return target;\n  };\n\n  Position.prototype.updatePosition = function updatePosition(placementChanged) {\n    var target = this.getTargetSafe();\n\n    if (!this.props.shouldUpdatePosition && target === this._lastTarget && !placementChanged) {\n      return;\n    }\n\n    this._lastTarget = target;\n\n    if (!target) {\n      this.setState({\n        positionLeft: 0,\n        positionTop: 0,\n        arrowOffsetLeft: null,\n        arrowOffsetTop: null\n      });\n\n      return;\n    }\n\n    var overlay = _reactDom2['default'].findDOMNode(this);\n    var container = _utilsGetContainer2['default'](this.props.container, _utilsOwnerDocument2['default'](this).body);\n\n    this.setState(_utilsOverlayPositionUtils.calcOverlayPosition(this.props.placement, overlay, target, container, this.props.containerPadding));\n  };\n\n  return Position;\n})(_react2['default'].Component);\n\nPosition.propTypes = {\n  /**\n   * Function mapping props to a DOM node the component is positioned next to\n   *\n   */\n  target: _react2['default'].PropTypes.func,\n\n  /**\n   * \"offsetParent\" of the component\n   */\n  container: _react2['default'].PropTypes.oneOfType([_reactPropTypesLibMountable2['default'], _react2['default'].PropTypes.func]),\n  /**\n   * Minimum spacing in pixels between container border and component border\n   */\n  containerPadding: _react2['default'].PropTypes.number,\n  /**\n   * How to position the component relative to the target\n   */\n  placement: _react2['default'].PropTypes.oneOf(['top', 'right', 'bottom', 'left']),\n  /**\n   * Whether the position should be changed on each update\n   */\n  shouldUpdatePosition: _react2['default'].PropTypes.bool\n};\n\nPosition.displayName = 'Position';\n\nPosition.defaultProps = {\n  containerPadding: 0,\n  placement: 'right',\n  shouldUpdatePosition: false\n};\n\nexports['default'] = Position;\nmodule.exports = exports['default'];"]}