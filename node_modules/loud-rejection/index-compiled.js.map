{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AACA,IAAI,OAAO,QAAQ,MAAR,CAAP;AACJ,IAAI,SAAS,QAAQ,aAAR,CAAT;AACJ,IAAI,MAAM,QAAQ,OAAR,CAAN;AACJ,IAAI,YAAY,KAAZ;;AAEJ,SAAS,qBAAT,CAA+B,GAA/B,EAAoC;AACnC,KAAI,eAAe,KAAf,EAAsB;AACzB,UAAQ,KAAR,CAAc,IAAI,KAAJ,CAAd,CADyB;EAA1B,MAEO;AACN,UAAQ,KAAR,CAAc,kCAAkC,KAAK,OAAL,CAAa,GAAb,CAAlC,CAAd,CADM;EAFP;CADD;;AAQA,OAAO,OAAP,GAAiB,YAAY;AAC5B,KAAI,SAAJ,EAAe;AACd,SADc;EAAf;;AAIA,aAAY,IAAZ,CAL4B;;AAO5B,KAAI,UAAU,IAAI,OAAJ,CAAV,CAPwB;;AAS5B,QAAO,YAAY;AAClB,MAAI,sBAAsB,QAAQ,kBAAR,EAAtB,CADc;;AAGlB,MAAI,oBAAoB,MAApB,GAA6B,CAA7B,EAAgC;AACnC,uBAAoB,OAApB,CAA4B,UAAU,CAAV,EAAa;AACxC,0BAAsB,EAAE,MAAF,CAAtB,CADwC;IAAb,CAA5B,CADmC;;AAKnC,WAAQ,QAAR,GAAmB,CAAnB,CALmC;GAApC;EAHM,CAAP,CAT4B;CAAZ","file":"index-compiled.js","sourcesContent":["'use strict';\nvar util = require('util');\nvar onExit = require('signal-exit');\nvar api = require('./api');\nvar installed = false;\n\nfunction outputRejectedMessage(err) {\n\tif (err instanceof Error) {\n\t\tconsole.error(err.stack);\n\t} else {\n\t\tconsole.error('Promise rejected with value: ' + util.inspect(err));\n\t}\n}\n\nmodule.exports = function () {\n\tif (installed) {\n\t\treturn;\n\t}\n\n\tinstalled = true;\n\n\tvar tracker = api(process);\n\n\tonExit(function () {\n\t\tvar unhandledRejections = tracker.currentlyUnhandled();\n\n\t\tif (unhandledRejections.length > 0) {\n\t\t\tunhandledRejections.forEach(function (x) {\n\t\t\t\toutputRejectedMessage(x.reason);\n\t\t\t});\n\n\t\t\tprocess.exitCode = 1;\n\t\t}\n\t});\n};\n"]}