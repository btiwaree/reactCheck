{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["'use strict';\nvar EventEmitter = require('events').EventEmitter;\nvar fmt = require('util').format;\nvar inherits = require('util').inherits;\nvar chalk = require('chalk');\nvar consoleStream = require('console-stream');\nvar lpadAlign = require('lpad-align');\n\n/**\n * Initialize a new `Squeak`\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Squeak(opts) {\n\tif (!(this instanceof Squeak)) {\n\t\treturn new Squeak(opts);\n\t}\n\n\tEventEmitter.call(this);\n\n\tthis.opts = opts || {};\n\tthis.align = this.opts.align !== false;\n\tthis.indent = this.opts.indent || 2;\n\tthis.separator = this.opts.separator || ' : ';\n\tthis.stream = this.opts.stream || process.stderr || consoleStream();\n\tthis.types = [];\n}\n\ninherits(Squeak, EventEmitter);\nmodule.exports = Squeak;\n\n/**\n * Write args to stream\n *\n * @api public\n */\n\nSqueak.prototype.write = function () {\n\tthis.log([].slice.call(arguments));\n\treturn this;\n};\n\n/**\n * Write args and new line to stream\n *\n * @api public\n */\n\nSqueak.prototype.writeln = function () {\n\tthis.log([].slice.call(arguments));\n\tthis.stream.write('\\n');\n\treturn this;\n};\n\n/**\n * Pad and write args to stream\n *\n * @api public\n */\n\nSqueak.prototype.writelpad = function () {\n\tvar args = [].slice.call(arguments);\n\tvar pad = new Array(this.indent + 1).join(' ');\n\n\tif (args.length) {\n\t\targs[0] = pad + args[0];\n\t}\n\n\tthis.log(args);\n\treturn this;\n};\n\n/**\n * Add type\n *\n * @param {String} type\n * @param {Object} opts\n * @param {Function} cb\n * @api public\n */\n\nSqueak.prototype.type = function (type, opts, cb) {\n\tif (!cb && typeof opts === 'function') {\n\t\tcb = opts;\n\t\topts = {};\n\t}\n\n\topts = opts || {};\n\topts.color = opts.color || 'reset';\n\topts.prefix = opts.prefix || type;\n\n\tthis.types.push(opts.prefix);\n\tthis[type] = function () {\n\t\tthis.log([].slice.call(arguments), opts);\n\n\t\tif (cb) {\n\t\t\tcb();\n\t\t}\n\t};\n\n\treturn this;\n};\n\n/**\n * End\n *\n * @param {Function} cb\n * @api public\n */\n\nSqueak.prototype.end = function (cb) {\n\tthis.stream.write('\\n');\n\n\tif (cb) {\n\t\tcb();\n\t}\n\n\treturn this;\n};\n\n/**\n * Log\n *\n * @param {Array} args\n * @param {Object} opts\n * @api private\n */\n\nSqueak.prototype.log = function (args, opts) {\n\topts = opts || {};\n\n\tvar msg = [fmt.apply(null, args)];\n\tvar color = opts.color;\n\tvar prefix = opts.prefix;\n\n\tif (prefix) {\n\t\tvar arr = this.align ? this.types : [prefix];\n\t\tmsg.unshift(chalk[color](lpadAlign(prefix, arr, this.indent)));\n\t}\n\n\tthis.stream.write(msg.join(this.separator));\n\tthis.stream.write('\\n');\n\n\treturn this;\n};\n"]}