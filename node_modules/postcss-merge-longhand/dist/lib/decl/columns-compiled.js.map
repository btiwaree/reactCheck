{"version":3,"sources":["columns.js"],"names":[],"mappings":"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","file":"columns-compiled.js","sourcesContent":["'use strict';\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _postcss = require('postcss');\n\nvar _postcssValueParserLibUnit = require('postcss-value-parser/lib/unit');\n\nvar _postcssValueParserLibUnit2 = _interopRequireDefault(_postcssValueParserLibUnit);\n\nvar _clone = require('../clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _getLastNode = require('../getLastNode');\n\nvar _getLastNode2 = _interopRequireDefault(_getLastNode);\n\nvar wc = ['column-width', 'column-count'];\n\nexports['default'] = {\n    explode: function explode(rule) {\n        rule.walkDecls('columns', function (decl) {\n            var values = _postcss.list.space(decl.value).sort();\n            if (values.length === 1) {\n                values.push('auto');\n            }\n\n            values.forEach(function (value, i) {\n                var name = 'column-count';\n\n                if (value === 'auto') {\n                    name = i === 0 ? 'column-width' : 'column-count';\n                } else if ((0, _postcssValueParserLibUnit2['default'])(value).unit !== '') {\n                    name = 'column-width';\n                }\n\n                var prop = (0, _clone2['default'])(decl);\n                prop.prop = name;\n                prop.value = value;\n                rule.insertAfter(decl, prop);\n            });\n            decl.remove();\n        });\n    },\n    merge: function merge(rule) {\n        var decls = rule.nodes.filter(function (node) {\n            return node.prop && ~wc.indexOf(node.prop);\n        });\n\n        var _loop = function () {\n            var lastNode = decls[decls.length - 1];\n            var props = decls.filter(function (node) {\n                return node.important === lastNode.important;\n            });\n            var values = wc.map(function (prop) {\n                return (0, _getLastNode2['default'])(props, prop).value;\n            });\n            if (values.length > 1 && values[0] === values[1]) {\n                values.pop();\n            }\n            var shorthand = (0, _clone2['default'])(lastNode);\n            shorthand.prop = 'columns';\n            shorthand.value = values.join(' ');\n            rule.insertAfter(lastNode, shorthand);\n            props.forEach(function (prop) {\n                return prop.remove();\n            });\n            decls = decls.filter(function (node) {\n                return ! ~props.indexOf(node);\n            });\n        };\n\n        while (decls.length) {\n            _loop();\n        }\n    }\n};\nmodule.exports = exports['default'];"]}