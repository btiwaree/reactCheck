{"version":3,"sources":["box-base.js"],"names":[],"mappings":"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","file":"box-base-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _hasAllProps = require('../hasAllProps');\n\nvar _hasAllProps2 = _interopRequireDefault(_hasAllProps);\n\nvar _canMerge = require('../canMerge');\n\nvar _canMerge2 = _interopRequireDefault(_canMerge);\n\nvar _minifyTrbl = require('../minifyTrbl');\n\nvar _minifyTrbl2 = _interopRequireDefault(_minifyTrbl);\n\nvar _parseTrbl = require('../parseTrbl');\n\nvar _parseTrbl2 = _interopRequireDefault(_parseTrbl);\n\nvar _getLastNode = require('../getLastNode');\n\nvar _getLastNode2 = _interopRequireDefault(_getLastNode);\n\nvar _mergeValues = require('../mergeValues');\n\nvar _mergeValues2 = _interopRequireDefault(_mergeValues);\n\nvar _type = require('../type');\n\nvar _type2 = _interopRequireDefault(_type);\n\nvar _clone = require('../clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar trbl = ['top', 'right', 'bottom', 'left'];\n\nexports['default'] = function (property) {\n    var processor = {\n        explode: function explode(rule) {\n            rule.walkDecls(property, function (decl) {\n                var values = (0, _parseTrbl2['default'])(decl.value);\n                trbl.forEach(function (direction, index) {\n                    var prop = (0, _clone2['default'])(decl);\n                    prop.prop = property + '-' + direction;\n                    prop.value = values[index];\n                    decl.parent.insertAfter(decl, prop);\n                });\n                decl.remove();\n            });\n        },\n        merge: function merge(rule) {\n            var properties = trbl.map(function (direction) {\n                return property + '-' + direction;\n            });\n            var decls = rule.nodes.filter(function (node) {\n                return node.prop && ~properties.indexOf(node.prop);\n            });\n\n            var _loop = function () {\n                var lastNode = decls[decls.length - 1];\n                var type = (0, _type2['default'])(lastNode);\n                var props = decls.filter(function (node) {\n                    return (0, _type2['default'])(node) === type && node.important === lastNode.important;\n                });\n                if (_hasAllProps2['default'].apply(undefined, [props].concat(properties))) {\n                    var rules = properties.map(function (prop) {\n                        return (0, _getLastNode2['default'])(props, prop);\n                    });\n                    var shorthand = (0, _clone2['default'])(lastNode);\n                    shorthand.prop = property;\n                    shorthand.value = (0, _minifyTrbl2['default'])(_mergeValues2['default'].apply(undefined, rules));\n                    rule.insertAfter(lastNode, shorthand);\n                    props.forEach(function (prop) {\n                        return prop.remove();\n                    });\n                }\n                decls = decls.filter(function (node) {\n                    return ! ~props.indexOf(node);\n                });\n            };\n\n            while (decls.length) {\n                _loop();\n            }\n\n            if (_hasAllProps2['default'].apply(undefined, [rule].concat(properties))) {\n                var rules = properties.map(function (p) {\n                    return (0, _getLastNode2['default'])(rule.nodes, p);\n                });\n                if (_canMerge2['default'].apply(undefined, rules)) {\n                    rules.slice(0, 3).forEach(function (rule) {\n                        return rule.remove();\n                    });\n                    rules[3].value = (0, _minifyTrbl2['default'])(_mergeValues2['default'].apply(undefined, rules));\n                    rules[3].prop = property;\n                }\n            }\n        }\n    };\n\n    return processor;\n};\n\nmodule.exports = exports['default'];"]}