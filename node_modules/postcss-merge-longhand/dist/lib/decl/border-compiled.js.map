{"version":3,"sources":["border.js"],"names":[],"mappings":"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","file":"border-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _postcss = require('postcss');\n\nvar _hasAllProps = require('../hasAllProps');\n\nvar _hasAllProps2 = _interopRequireDefault(_hasAllProps);\n\nvar _getLastNode = require('../getLastNode');\n\nvar _getLastNode2 = _interopRequireDefault(_getLastNode);\n\nvar _minifyTrbl = require('../minifyTrbl');\n\nvar _minifyTrbl2 = _interopRequireDefault(_minifyTrbl);\n\nvar _clone = require('../clone');\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _numValues = require('../numValues');\n\nvar _numValues2 = _interopRequireDefault(_numValues);\n\nvar _canMerge = require('../canMerge');\n\nvar _canMerge2 = _interopRequireDefault(_canMerge);\n\nvar wsc = ['border-width', 'border-style', 'border-color'];\nvar trbl = ['border-top', 'border-right', 'border-bottom', 'border-left'];\nvar defaults = ['medium', 'none', 'currentColor'];\n\nexports['default'] = {\n    explode: function explode(rule) {\n        rule.walkDecls('border', function (decl) {\n            trbl.forEach(function (prop) {\n                var node = (0, _clone2['default'])(decl);\n                node.prop = prop;\n                rule.insertAfter(decl, node);\n            });\n\n            decl.remove();\n        });\n    },\n    merge: function merge(rule) {\n        var decls = rule.nodes.filter(function (node) {\n            return node.prop && ~trbl.indexOf(node.prop);\n        });\n\n        var _loop = function () {\n            var lastNode = decls[decls.length - 1];\n            var props = decls.filter(function (node) {\n                return node.important === lastNode.important;\n            });\n            if (_hasAllProps2['default'].apply(undefined, [props].concat(trbl))) {\n                (function () {\n                    var rules = trbl.map(function (prop) {\n                        return (0, _getLastNode2['default'])(props, prop);\n                    });\n                    wsc.forEach(function (prop, index) {\n                        var values = rules.map(function (node) {\n                            var value = _postcss.list.space(node.value)[index];\n                            if (value === undefined) {\n                                value = defaults[index];\n                            }\n                            return value;\n                        });\n                        var decl = (0, _clone2['default'])(lastNode);\n                        decl.prop = prop;\n                        decl.value = values.join(' ');\n                        rule.insertAfter(lastNode, decl);\n                    });\n                    props.forEach(function (prop) {\n                        return prop.remove();\n                    });\n                })();\n            }\n            decls = decls.filter(function (node) {\n                return ! ~props.indexOf(node);\n            });\n        };\n\n        while (decls.length) {\n            _loop();\n        }\n\n        decls = rule.nodes.filter(function (node) {\n            return node.prop && ~wsc.indexOf(node.prop);\n        });\n        decls.forEach(function (node) {\n            return node.value = (0, _minifyTrbl2['default'])(node.value);\n        });\n        decls = decls.filter(function (node) {\n            return (0, _numValues2['default'])(node) === 1;\n        });\n\n        var _loop2 = function () {\n            var lastNode = decls[decls.length - 1];\n            var valueLength = (0, _numValues2['default'])(lastNode);\n            var props = decls.filter(function (node) {\n                return node.important === lastNode.important;\n            });\n\n            if (_hasAllProps2['default'].apply(undefined, [props].concat(wsc)) && _canMerge2['default'].apply(undefined, props)) {\n                var values = wsc.map(function (prop) {\n                    return (0, _getLastNode2['default'])(props, prop).value;\n                });\n                var value = values.concat(['']).reduceRight(function (prev, cur, i) {\n                    if (prev === '' && cur === defaults[i]) {\n                        return prev;\n                    }\n                    return cur + \" \" + prev;\n                }).trim();\n                if (value === '') {\n                    value = defaults[0];\n                }\n                var shorthand = (0, _clone2['default'])(lastNode);\n                shorthand.prop = 'border';\n                shorthand.value = value;\n                rule.insertAfter(lastNode, shorthand);\n                props.forEach(function (prop) {\n                    return prop.remove();\n                });\n            }\n            decls = decls.filter(function (node) {\n                return ! ~props.indexOf(node);\n            });\n        };\n\n        while (decls.length) {\n            _loop2();\n        }\n    }\n};\nmodule.exports = exports['default'];"]}