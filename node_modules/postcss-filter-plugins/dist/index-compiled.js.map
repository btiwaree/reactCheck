{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _postcss = require('postcss');\n\nvar _postcss2 = _interopRequireDefault(_postcss);\n\nvar _uniqid = require('uniqid');\n\nvar _uniqid2 = _interopRequireDefault(_uniqid);\n\nexports['default'] = _postcss2['default'].plugin('postcss-filter-plugins', function () {\n    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var _ref$template = _ref.template;\n    var template = _ref$template === undefined ? function (_ref2) {\n        var postcssPlugin = _ref2.postcssPlugin;\n        return 'Found duplicate plugin: ' + postcssPlugin;\n    } : _ref$template;\n    var _ref$silent = _ref.silent;\n    var silent = _ref$silent === undefined ? false : _ref$silent;\n    var _ref$exclude = _ref.exclude;\n    var exclude = _ref$exclude === undefined ? [] : _ref$exclude;\n    var _ref$direction = _ref.direction;\n    var direction = _ref$direction === undefined ? 'both' : _ref$direction;\n\n    var id = (0, _uniqid2['default'])();\n    var prev = undefined,\n        next = undefined,\n        both = undefined;\n\n    switch (direction) {\n        case 'both':\n            both = true;\n            break;\n        case 'backward':\n            prev = true;\n            break;\n        case 'forward':\n            next = true;\n            break;\n    }\n\n    var plugin = function plugin(css, result) {\n        var previousPlugins = [];\n        var nextPlugins = [];\n        var bothPlugins = [];\n        var filter = false;\n        var position = 0;\n\n        var detect = function detect(list, plugin) {\n            var name = plugin.postcssPlugin;\n            if (typeof name === 'undefined') {\n                position++;\n                return;\n            }\n            if (~list.indexOf(name)) {\n                if (!silent) {\n                    result.warn(template(plugin));\n                }\n                result.processor.plugins.splice(position, 1);\n            } else {\n                list.push(name);\n                position++;\n            }\n        };\n\n        while (position < result.processor.plugins.length) {\n            var _plugin = result.processor.plugins[position];\n            if (~exclude.indexOf(_plugin.postcssPlugin)) {\n                position++;\n                continue;\n            }\n            if (_plugin._id === id) {\n                position++;\n                filter = true;\n                continue;\n            } else if (_plugin.postcssPlugin === 'postcss-filter-plugins') {\n                position++;\n                continue;\n            }\n            if (both) {\n                detect(bothPlugins, _plugin);\n                continue;\n            }\n            if (filter && next) {\n                detect(nextPlugins, _plugin);\n                continue;\n            }\n            if (!filter && prev) {\n                detect(previousPlugins, _plugin);\n                continue;\n            }\n            position++;\n        }\n    };\n\n    plugin._id = id;\n\n    return plugin;\n});\nmodule.exports = exports['default'];"]}