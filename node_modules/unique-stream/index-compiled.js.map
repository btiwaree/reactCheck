{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,SAAS,QAAQ,iBAAR,EAA2B,GAA3B;AACb,IAAI,YAAY,QAAQ,uBAAR,CAAZ;;AAEJ,IAAI,MAAJ;AACA,IAAI,OAAO,OAAO,GAAP,KAAe,UAAtB,EAAkC;AACpC,WAAS,OAAO,GAAP,CAD2B;CAAtC,MAEO;AACL,WAAS,YAAW;AAClB,SAAK,IAAL,GAAY,EAAZ,CADkB;AAElB,SAAK,GAAL,GAAW,UAAS,GAAT,EAAc;AACvB,aAAO,KAAK,IAAL,CAAU,OAAV,CAAkB,GAAlB,MAA2B,CAAC,CAAD,CADX;KAAd,EAGX,KAAK,GAAL,GAAW,UAAS,GAAT,EAAc;AACvB,WAAK,IAAL,CAAU,IAAV,CAAe,GAAf,EADuB;KAAd,CALO;GAAX,CADJ;CAFP;;AAcA,SAAS,IAAT,CAAc,QAAd,EAAwB;AACtB,SAAO,UAAU,IAAV,EAAgB;AACrB,WAAO,KAAK,QAAL,CAAP,CADqB;GAAhB,CADe;CAAxB;;AAMA,OAAO,OAAP,GAAiB,MAAjB;AACA,SAAS,MAAT,CAAgB,QAAhB,EAA0B,QAA1B,EAAoC;AAClC,aAAW,YAAY,IAAI,MAAJ,EAAZ,CADuB;;AAGlC,MAAI,QAAQ,SAAR,CAH8B;AAIlC,MAAI,OAAO,QAAP,KAAoB,QAApB,EAA8B;AAChC,YAAQ,KAAK,QAAL,CAAR,CADgC;GAAlC,MAEO,IAAI,OAAO,QAAP,KAAoB,UAApB,EAAgC;AACzC,YAAQ,QAAR,CADyC;GAApC;;AAIP,SAAO,OAAO,UAAU,IAAV,EAAgB;AAC5B,QAAI,MAAM,MAAM,IAAN,CAAN,CADwB;;AAG5B,QAAI,SAAS,GAAT,CAAa,GAAb,CAAJ,EAAuB;AACrB,aAAO,KAAP,CADqB;KAAvB;;AAIA,aAAS,GAAT,CAAa,GAAb,EAP4B;AAQ5B,WAAO,IAAP,CAR4B;GAAhB,CAAd,CAVkC;CAApC","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar filter = require('through2-filter').obj;\nvar stringify = require(\"json-stable-stringify\");\n\nvar ES6Set;\nif (typeof global.Set === 'function') {\n  ES6Set = global.Set;\n} else {\n  ES6Set = function() {\n    this.keys = [];\n    this.has = function(val) {\n      return this.keys.indexOf(val) !== -1;\n    },\n    this.add = function(val) {\n      this.keys.push(val);\n    }\n  }\n}\n\nfunction prop(propName) {\n  return function (data) {\n    return data[propName];\n  };\n}\n\nmodule.exports = unique;\nfunction unique(propName, keyStore) {\n  keyStore = keyStore || new ES6Set();\n\n  var keyfn = stringify;\n  if (typeof propName === 'string') {\n    keyfn = prop(propName);\n  } else if (typeof propName === 'function') {\n    keyfn = propName;\n  }\n\n  return filter(function (data) {\n    var key = keyfn(data);\n\n    if (keyStore.has(key)) {\n      return false;\n    }\n\n    keyStore.add(key);\n    return true;\n  });\n}\n"]}