{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var es = require('event-stream')\nvar through = require('through2')\nvar combine = require('..')\nvar test = require('tape')\n\ntest('re-emit error object for old streams', function (test) {\n  test.plan(1)\n\n  var expectedErr = new Error('asplode')\n\n  var pipe = combine(\n    es.through(function(data) {\n      return this.emit('error', expectedErr)\n    })\n  )\n\n  pipe.on('error', function (err) {\n    test.equal(err, expectedErr)\n  })\n\n  pipe.write('pow')\n})\n\ntest('do not duplicate errors', function (test) {\n\n  var errors = 0;\n  var pipe = combine(\n    es.through(function(data) {\n      return this.emit('data', data);\n    }),\n    es.through(function(data) {\n      return this.emit('error', new Error(data));\n    })\n  )\n\n  pipe.on('error', function(err) {\n    errors++\n    test.ok(errors, 'expected error count')\n      process.nextTick(function () {\n        return test.end();\n      })\n  })\n\n  return pipe.write('meh');\n})\n\ntest('3 pipe do not duplicate errors', function (test) {\n\n  var errors = 0;\n  var pipe = combine(\n    es.through(function(data) {\n      return this.emit('data', data);\n    }),\n    es.through(function(data) {\n      return this.emit('error', new Error(data));\n    }),\n    es.through()\n  )\n\n  pipe.on('error', function(err) {\n    errors++\n    test.ok(errors, 'expected error count')\n      process.nextTick(function () {\n        return test.end();\n      })\n  })\n\n  return pipe.write('meh');\n\n})\n\ntest('0 argument through stream', function (test) {\n  test.plan(3)\n  var pipe = combine()\n   , expected = [ 'beep', 'boop', 'robots' ]\n\n  pipe.pipe(es.through(function(data) {\n    test.equal(data.toString('utf8'), expected.shift())\n  }))\n  pipe.write('beep')\n  pipe.write('boop')\n  pipe.end('robots')\n})\n\ntest('object mode', function (test) {\n  test.plan(2)\n  var pipe = combine.obj()\n   , expected = [ [4,5,6], {x:5} ]\n\n  pipe.pipe(through.obj(function(data, enc, next) {\n    test.deepEqual(data, expected.shift())\n    next()\n  }))\n  pipe.write([4,5,6])\n  pipe.write({x:5})\n  pipe.end()\n})\n\n"]}