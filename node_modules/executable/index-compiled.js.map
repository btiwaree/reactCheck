{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,KAAK,QAAQ,IAAR,CAAL;;AAEJ,SAAS,KAAT,CAAe,IAAf,EAAqB,GAArB,EAA0B,GAA1B,EAA+B;AAC9B,KAAI,QAAQ,QAAR,KAAqB,OAArB,EAA8B;AACjC,SAAO,IAAP,CADiC;EAAlC;;AAIA,QAAO,IAAC,GAAO,SAAS,MAAT,EAAiB,CAAjB,CAAP,IACP,IAAC,GAAO,SAAS,MAAT,EAAiB,CAAjB,CAAP,IAA+B,QAAQ,MAAR,IAAkB,QAAQ,QAAQ,MAAR,EAAR,IAClD,IAAC,GAAO,SAAS,MAAT,EAAiB,CAAjB,CAAP,IAA+B,QAAQ,MAAR,IAAkB,QAAQ,QAAQ,MAAR,EAAR,CAPrB;CAA/B;;AAUA,OAAO,OAAP,GAAiB,UAAU,IAAV,EAAgB,EAAhB,EAAoB;AACpC,KAAI,OAAO,IAAP,KAAgB,QAAhB,EAA0B;AAC7B,QAAM,IAAI,KAAJ,CAAU,mBAAV,CAAN,CAD6B;EAA9B;;AAIA,IAAG,IAAH,CAAQ,IAAR,EAAc,UAAU,GAAV,EAAe,KAAf,EAAsB;AACnC,MAAI,GAAJ,EAAS;AACR,MAAG,GAAH,EADQ;AAER,UAFQ;GAAT;;AAKA,MAAI,SAAS,MAAM,MAAN,EAAT,IAA2B,MAAM,MAAM,IAAN,EAAY,MAAM,GAAN,EAAW,MAAM,GAAN,CAAxD,EAAoE;AACvE,MAAG,IAAH,EAAS,IAAT,EADuE;AAEvE,UAFuE;GAAxE;;AAKA,KAAG,IAAH,EAAS,KAAT,EAXmC;EAAtB,CAAd,CALoC;CAApB;;AAoBjB,OAAO,OAAP,CAAe,IAAf,GAAsB,UAAU,IAAV,EAAgB;AACrC,KAAI,OAAO,IAAP,KAAgB,QAAhB,EAA0B;AAC7B,QAAM,IAAI,KAAJ,CAAU,mBAAV,CAAN,CAD6B;EAA9B;;AAIA,KAAI,OAAO,GAAG,QAAH,CAAY,IAAZ,CAAP,CALiC;;AAOrC,KAAI,QAAQ,KAAK,MAAL,EAAR,IAAyB,MAAM,KAAK,IAAL,EAAW,KAAK,GAAL,EAAU,KAAK,GAAL,CAApD,EAA+D;AAClE,SAAO,IAAP,CADkE;EAAnE;;AAIA,QAAO,KAAP,CAXqC;CAAhB","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar fs = require('fs');\n\nfunction isExe(mode, gid, uid) {\n\tif (process.platform === 'win32') {\n\t\treturn true;\n\t}\n\n\treturn (mode & parseInt('0001', 8)) ||\n\t\t(mode & parseInt('0010', 8)) && process.getgid && gid === process.getgid() ||\n\t\t(mode & parseInt('0100', 8)) && process.getuid && uid === process.getuid();\n}\n\nmodule.exports = function (name, cb) {\n\tif (typeof name !== 'string') {\n\t\tthrow new Error('Filename required');\n\t}\n\n\tfs.stat(name, function (err, stats) {\n\t\tif (err) {\n\t\t\tcb(err);\n\t\t\treturn;\n\t\t}\n\n\t\tif (stats && stats.isFile() && isExe(stats.mode, stats.gid, stats.uid)) {\n\t\t\tcb(null, true);\n\t\t\treturn;\n\t\t}\n\n\t\tcb(null, false);\n\t});\n};\n\nmodule.exports.sync = function (name) {\n\tif (typeof name !== 'string') {\n\t\tthrow new Error('Filename required');\n\t}\n\n\tvar file = fs.statSync(name);\n\n\tif (file && file.isFile() && isExe(file.mode, file.gid, file.uid)) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n"]}