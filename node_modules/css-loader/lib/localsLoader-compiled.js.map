{"version":3,"sources":["localsLoader.js"],"names":[],"mappings":";;;;AAIA,IAAI,cAAc,QAAQ,cAAR,CAAd;AACJ,IAAI,aAAa,QAAQ,cAAR,CAAb;AACJ,IAAI,kBAAkB,QAAQ,mBAAR,CAAlB;AACJ,IAAI,iBAAiB,QAAQ,mBAAR,CAAjB;;AAGJ,OAAO,OAAP,GAAiB,UAAS,OAAT,EAAkB;AAClC,KAAG,KAAK,SAAL,EAAgB,KAAK,SAAL,GAAnB;AACA,KAAI,WAAW,KAAK,KAAL,EAAX,CAF8B;AAGlC,KAAI,QAAQ,YAAY,UAAZ,CAAuB,KAAK,KAAL,CAA/B,CAH8B;AAIlC,KAAI,aAAa,MAAM,OAAN,IAAiB,MAAM,MAAN,CAJA;AAKlC,KAAI,gBAAgB,MAAM,SAAN,IAAmB,MAAM,SAAN,CALL;;AAOlC,YAAW,OAAX,EAAoB,IAApB,EAA0B;AACzB,QAAM,aAAa,OAAb,GAAuB,QAAvB;AACN,SAAO,KAAP;AACA,YAAU,KAAK,QAAL;AACV,iBAAe,IAAf;EAJD,EAKG,UAAS,GAAT,EAAc,MAAd,EAAsB;AACxB,MAAG,GAAH,EAAQ,OAAO,SAAS,GAAT,CAAP,CAAR;;;AADwB,MAIpB,kBAAkB,gBAAgB,IAAhB,EAAsB,KAAtB,CAAlB,CAJoB;;AAMxB,WAAS,iBAAT,CAA2B,IAA3B,EAAiC;AAChC,OAAI,QAAQ,OAAO,gBAAP,CAAwB,IAAxB,CAA6B,IAA7B,CAAR,CAD4B;AAEhC,OAAI,MAAM,CAAC,MAAM,CAAN,CAAD,CAFsB;AAGhC,OAAI,aAAa,OAAO,WAAP,CAAmB,GAAnB,CAAb,CAH4B;AAIhC,OAAI,YAAY,kBAAkB,WAAW,GAAX,CAJF;AAKhC,UAAO,kBAAkB,YAAY,gBAAZ,CAA6B,IAA7B,EAAmC,SAAnC,CAAlB,GAAkE,GAAlE,GACN,GADM,GACA,KAAK,SAAL,CAAe,WAAW,MAAX,CADf,GACoC,QADpC,CALyB;GAAjC;;AASA,MAAI,WAAW,eAAe,MAAf,EAAuB,kBAAkB,IAAlB,CAAuB,IAAvB,CAAvB,EAAqD,aAArD,CAAX,CAfoB;AAgBxB,MAAI,QAAJ,EAAc;AACb,cAAW,sBAAsB,QAAtB,GAAiC,GAAjC,CADE;GAAd;;AAKA,WAAS,IAAT,EAAe,QAAf,EArBwB;EAAtB,CAsBD,IAtBC,CAsBI,IAtBJ,CALH,EAPkC;CAAlB","file":"localsLoader-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar loaderUtils = require(\"loader-utils\");\r\nvar processCss = require(\"./processCss\");\r\nvar getImportPrefix = require(\"./getImportPrefix\");\r\nvar compileExports = require(\"./compile-exports\");\r\n\r\n\r\nmodule.exports = function(content) {\r\n\tif(this.cacheable) this.cacheable();\r\n\tvar callback = this.async();\r\n\tvar query = loaderUtils.parseQuery(this.query);\r\n\tvar moduleMode = query.modules || query.module;\r\n\tvar camelCaseKeys = query.camelCase || query.camelcase;\r\n\r\n\tprocessCss(content, null, {\r\n\t\tmode: moduleMode ? \"local\" : \"global\",\r\n\t\tquery: query,\r\n\t\tminimize: this.minimize,\r\n\t\tloaderContext: this\r\n\t}, function(err, result) {\r\n\t\tif(err) return callback(err);\r\n\r\n\t\t// for importing CSS\r\n\t\tvar importUrlPrefix = getImportPrefix(this, query);\r\n\r\n\t\tfunction importItemMatcher(item) {\r\n\t\t\tvar match = result.importItemRegExp.exec(item);\r\n\t\t\tvar idx = +match[1];\r\n\t\t\tvar importItem = result.importItems[idx];\r\n\t\t\tvar importUrl = importUrlPrefix + importItem.url;\r\n\t\t\treturn \"\\\" + require(\" + loaderUtils.stringifyRequest(this, importUrl) + \")\" +\r\n\t\t\t\t\"[\" + JSON.stringify(importItem.export) + \"] + \\\"\";\r\n\t\t}\r\n\r\n\t\tvar exportJs = compileExports(result, importItemMatcher.bind(this), camelCaseKeys);\r\n\t\tif (exportJs) {\r\n\t\t\texportJs = \"module.exports = \" + exportJs + \";\";\r\n\t\t}\r\n\r\n\r\n\t\tcallback(null, exportJs);\r\n\t}.bind(this));\r\n};\r\n"]}