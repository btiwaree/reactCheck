{"version":3,"sources":["loader.js"],"names":[],"mappings":"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","file":"loader-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar path = require(\"path\");\r\nvar loaderUtils = require(\"loader-utils\");\r\nvar processCss = require(\"./processCss\");\r\nvar getImportPrefix = require(\"./getImportPrefix\");\r\nvar compileExports = require(\"./compile-exports\");\r\n\r\n\r\nmodule.exports = function(content, map) {\r\n\tif(this.cacheable) this.cacheable();\r\n\tvar callback = this.async();\r\n\tvar query = loaderUtils.parseQuery(this.query);\r\n\tvar root = query.root;\r\n\tvar moduleMode = query.modules || query.module;\r\n\tvar camelCaseKeys = query.camelCase || query.camelcase;\r\n\r\n\tif(map !== null && typeof map !== \"string\") {\r\n\t\tmap = JSON.stringify(map);\r\n\t}\r\n\r\n\tprocessCss(content, map, {\r\n\t\tmode: moduleMode ? \"local\" : \"global\",\r\n\t\tfrom: loaderUtils.getRemainingRequest(this),\r\n\t\tto: loaderUtils.getCurrentRequest(this),\r\n\t\tquery: query,\r\n\t\tminimize: this.minimize,\r\n\t\tloaderContext: this\r\n\t}, function(err, result) {\r\n\t\tif(err) return callback(err);\r\n\r\n\t\tvar cssAsString = JSON.stringify(result.source);\r\n\r\n\t\t// for importing CSS\r\n\t\tvar importUrlPrefix = getImportPrefix(this, query);\r\n\r\n\t\tvar alreadyImported = {};\r\n\t\tvar importJs = result.importItems.filter(function(imp) {\r\n\t\t\tif(!imp.mediaQuery) {\r\n\t\t\t\tif(alreadyImported[imp.url])\r\n\t\t\t\t\treturn false;\r\n\t\t\t\talreadyImported[imp.url] = true;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}).map(function(imp) {\r\n\t\t\tif(!loaderUtils.isUrlRequest(imp.url, root)) {\r\n\t\t\t\treturn \"exports.push([module.id, \" +\r\n\t\t\t\t\tJSON.stringify(\"@import url(\" + imp.url + \");\") + \", \" +\r\n\t\t\t\t\tJSON.stringify(imp.mediaQuery) + \"]);\";\r\n\t\t\t} else {\r\n\t\t\t\tvar importUrl = importUrlPrefix + imp.url;\r\n\t\t\t\treturn \"exports.i(require(\" + loaderUtils.stringifyRequest(this, importUrl) + \"), \" + JSON.stringify(imp.mediaQuery) + \");\";\r\n\t\t\t}\r\n\t\t}, this).join(\"\\n\");\r\n\r\n\t\tfunction importItemMatcher(item) {\r\n\t\t\tvar match = result.importItemRegExp.exec(item);\r\n\t\t\tvar idx = +match[1];\r\n\t\t\tvar importItem = result.importItems[idx];\r\n\t\t\tvar importUrl = importUrlPrefix + importItem.url;\r\n\t\t\treturn \"\\\" + require(\" + loaderUtils.stringifyRequest(this, importUrl) + \").locals\" +\r\n\t\t\t\t\"[\" + JSON.stringify(importItem.export) + \"] + \\\"\";\r\n\t\t}\r\n\r\n\t\tcssAsString = cssAsString.replace(result.importItemRegExpG, importItemMatcher.bind(this));\r\n\t\tif(query.url !== false) {\r\n\t\t\tcssAsString = cssAsString.replace(result.urlItemRegExpG, function(item) {\r\n\t\t\t\tvar match = result.urlItemRegExp.exec(item);\r\n\t\t\t\tvar idx = +match[1];\r\n\t\t\t\tvar urlItem = result.urlItems[idx];\r\n\t\t\t\tvar url = urlItem.url;\r\n\t\t\t\tidx = url.indexOf(\"?#\");\r\n\t\t\t\tif(idx < 0) idx = url.indexOf(\"#\");\r\n\t\t\t\tvar urlRequest;\r\n\t\t\t\tif(idx > 0) { // idx === 0 is catched by isUrlRequest\r\n\t\t\t\t\t// in cases like url('webfont.eot?#iefix')\r\n\t\t\t\t\turlRequest = url.substr(0, idx);\r\n\t\t\t\t\treturn \"\\\" + require(\" + loaderUtils.stringifyRequest(this, urlRequest) + \") + \\\"\" +\r\n\t\t\t\t\t\t\turl.substr(idx);\r\n\t\t\t\t}\r\n\t\t\t\turlRequest = url;\r\n\t\t\t\treturn \"\\\" + require(\" + loaderUtils.stringifyRequest(this, urlRequest) + \") + \\\"\";\r\n\t\t\t}.bind(this));\r\n\t\t}\r\n\r\n\r\n\t\tvar exportJs = compileExports(result, importItemMatcher.bind(this), camelCaseKeys);\r\n\t\tif (exportJs) {\r\n\t\t\texportJs = \"exports.locals = \" + exportJs + \";\";\r\n\t\t}\r\n\r\n\t\tvar moduleJs;\r\n\t\tif(query.sourceMap && result.map) {\r\n\t\t\t// add a SourceMap\r\n\t\t\tmap = result.map;\r\n\t\t\tif(map.sources) {\r\n\t\t\t\tmap.sources = map.sources.map(function(source) {\r\n\t\t\t\t\tsource = source.split(\"!\").pop();\r\n\t\t\t\t\tvar p = path.relative(query.context || this.options.context, source).replace(/\\\\/g, \"/\");\r\n\t\t\t\t\tif(p.indexOf(\"../\") !== 0)\r\n\t\t\t\t\t\tp = \"./\" + p;\r\n\t\t\t\t\treturn \"/\" + p;\r\n\t\t\t\t}, this);\r\n\t\t\t\tmap.sourceRoot = \"webpack://\";\r\n\t\t\t}\r\n\t\t\tmap.file = map.file.split(\"!\").pop();\r\n\t\t\tmap = JSON.stringify(map);\r\n\t\t\tmoduleJs = \"exports.push([module.id, \" + cssAsString + \", \\\"\\\", \" + map + \"]);\";\r\n\t\t} else {\r\n\t\t\tmoduleJs = \"exports.push([module.id, \" + cssAsString + \", \\\"\\\"]);\";\r\n\t\t}\r\n\r\n\t\t// embed runtime\r\n\t\tcallback(null, \"exports = module.exports = require(\" + loaderUtils.stringifyRequest(this, require.resolve(\"./css-base.js\")) + \")();\\n\" +\r\n\t\t\t\"// imports\\n\" +\r\n\t\t\timportJs + \"\\n\\n\" +\r\n\t\t\t\"// module\\n\" +\r\n\t\t\tmoduleJs + \"\\n\\n\" +\r\n\t\t\t\"// exports\\n\" +\r\n\t\t\texportJs);\r\n\t}.bind(this));\r\n};\r\n"]}