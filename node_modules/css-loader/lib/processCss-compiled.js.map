{"version":3,"sources":["processCss.js"],"names":[],"mappings":"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","file":"processCss-compiled.js","sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar Tokenizer = require(\"css-selector-tokenizer\");\r\nvar postcss = require(\"postcss\");\r\nvar loaderUtils = require(\"loader-utils\");\r\nvar assign = require(\"object-assign\");\r\nvar getLocalIdent = require(\"./getLocalIdent\");\r\n\r\nvar localByDefault = require(\"postcss-modules-local-by-default\");\r\nvar extractImports = require(\"postcss-modules-extract-imports\");\r\nvar modulesScope = require(\"postcss-modules-scope\");\r\nvar modulesValues = require(\"postcss-modules-values\");\r\nvar cssnano = require(\"cssnano\");\r\n\r\nvar parserPlugin = postcss.plugin(\"css-loader-parser\", function(options) {\r\n\treturn function(css) {\r\n\t\tvar imports = {};\r\n\t\tvar exports = {};\r\n\t\tvar importItems = [];\r\n\t\tvar urlItems = [];\r\n\r\n\t\tfunction replaceImportsInString(str) {\r\n\t\t\tif(options.import) {\r\n\t\t\t\tvar tokens = str.split(/(\\S+)/);\r\n\t\t\t\ttokens = tokens.map(function (token) {\r\n\t\t\t\t\tvar importIndex = imports[\"$\" + token];\r\n\t\t\t\t\tif(typeof importIndex === \"number\") {\r\n\t\t\t\t\t\treturn \"___CSS_LOADER_IMPORT___\" + importIndex + \"___\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn token;\r\n\t\t\t\t});\r\n\t\t\t\treturn tokens.join(\"\");\r\n\t\t\t}\r\n\t\t\treturn str;\r\n\t\t}\r\n\r\n\t\tif(options.import) {\r\n\t\t\tcss.walkAtRules(\"import\", function(rule) {\r\n\t\t\t\tvar values = Tokenizer.parseValues(rule.params);\r\n\t\t\t\tvar url = values.nodes[0].nodes[0];\r\n\t\t\t\tif(url.type === \"url\") {\r\n\t\t\t\t\turl = url.url;\r\n\t\t\t\t} else if(url.type === \"string\") {\r\n\t\t\t\t\turl = url.value;\r\n\t\t\t\t} else throw rule.error(\"Unexpected format\" + rule.params);\r\n\t\t\t\tvalues.nodes[0].nodes.shift();\r\n\t\t\t\tvar mediaQuery = Tokenizer.stringifyValues(values);\r\n\t\t\t\tif(loaderUtils.isUrlRequest(url, options.root) && options.mode === \"global\") {\r\n\t\t\t\t\turl = loaderUtils.urlToRequest(url, options.root);\r\n\t\t\t\t}\r\n\t\t\t\timportItems.push({\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\tmediaQuery: mediaQuery\r\n\t\t\t\t});\r\n\t\t\t\trule.remove();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tcss.walkRules(function(rule) {\r\n\t\t\tif(rule.selector === \":export\") {\r\n\t\t\t\trule.walkDecls(function(decl) {\r\n\t\t\t\t\texports[decl.prop] = decl.value;\r\n\t\t\t\t});\r\n\t\t\t\trule.remove();\r\n\t\t\t} else if(/^:import\\(.+\\)$/.test(rule.selector)) {\r\n\t\t\t\tvar match = /^:import\\((.+)\\)$/.exec(rule.selector);\r\n\t\t\t\tvar url = loaderUtils.parseString(match[1]);\r\n\t\t\t\trule.walkDecls(function(decl) {\r\n\t\t\t\t\timports[\"$\" + decl.prop] = importItems.length;\r\n\t\t\t\t\timportItems.push({\r\n\t\t\t\t\t\turl: url,\r\n\t\t\t\t\t\texport: decl.value\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\trule.remove();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tObject.keys(exports).forEach(function(exportName) {\r\n\t\t\texports[exportName] = replaceImportsInString(exports[exportName]);\r\n\t\t});\r\n\r\n\t\tfunction processNode(item) {\r\n\t\t\tswitch (item.type) {\r\n\t\t\t\tcase \"value\":\r\n\t\t\t\t\titem.nodes.forEach(processNode);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"nested-item\":\r\n\t\t\t\t\titem.nodes.forEach(processNode);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"item\":\r\n\t\t\t\t\tvar importIndex = imports[\"$\" + item.name];\r\n\t\t\t\t\tif (typeof importIndex === \"number\") {\r\n\t\t\t\t\t\titem.name = \"___CSS_LOADER_IMPORT___\" + importIndex + \"___\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"url\":\r\n\t\t\t\t\tif (options.url && !/^#/.test(item.url) && loaderUtils.isUrlRequest(item.url, options.root)) {\r\n\t\t\t\t\t\titem.stringType = \"\";\r\n\t\t\t\t\t\tdelete item.innerSpacingBefore;\r\n\t\t\t\t\t\tdelete item.innerSpacingAfter;\r\n\t\t\t\t\t\tvar url = item.url;\r\n\t\t\t\t\t\titem.url = \"___CSS_LOADER_URL___\" + urlItems.length + \"___\";\r\n\t\t\t\t\t\turlItems.push({\r\n\t\t\t\t\t\t\turl: url\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcss.walkDecls(function(decl) {\r\n\t\t\tvar values = Tokenizer.parseValues(decl.value);\r\n\t\t\tvalues.nodes.forEach(function(value) {\r\n\t\t\t\tvalue.nodes.forEach(processNode);\r\n\t\t\t});\r\n\t\t\tdecl.value = Tokenizer.stringifyValues(values);\r\n\t\t});\r\n\t\tcss.walkAtRules(function(atrule) {\r\n\t\t\tif(typeof atrule.params === \"string\") {\r\n\t\t\t\tatrule.params = replaceImportsInString(atrule.params);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\toptions.importItems = importItems;\r\n\t\toptions.urlItems = urlItems;\r\n\t\toptions.exports = exports;\r\n\t};\r\n});\r\n\r\nmodule.exports = function processCss(inputSource, inputMap, options, callback) {\r\n\r\n\tvar query = options.query;\r\n\tvar root = query.root;\r\n\tvar context = query.context;\r\n\tvar localIdentName = query.localIdentName || \"[hash:base64]\";\r\n\tvar localIdentRegExp = query.localIdentRegExp;\r\n\tvar forceMinimize = query.minimize;\r\n\tvar minimize = typeof forceMinimize !== \"undefined\" ? !!forceMinimize : options.minimize;\r\n\r\n\tvar parserOptions = {\r\n\t\troot: root,\r\n\t\tmode: options.mode,\r\n\t\turl: query.url !== false,\r\n\t\timport: query.import !== false\r\n\t};\r\n\r\n\tvar pipeline = postcss([\r\n\t\tlocalByDefault({\r\n\t\t\tmode: options.mode,\r\n\t\t\trewriteUrl: function(global, url) {\r\n\t\t\t\tif(parserOptions.url){\r\n\t\t\t\t\tif(!loaderUtils.isUrlRequest(url, root)) {\r\n\t\t\t\t\t\treturn url;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(global) {\r\n\t\t\t\t\t\treturn loaderUtils.urlToRequest(url, root);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn url;\r\n\t\t\t}\r\n\t\t}),\r\n\t\textractImports(),\r\n\t\tmodulesValues,\r\n\t\tmodulesScope({\r\n\t\t\tgenerateScopedName: function(exportName) {\r\n\t\t\t\treturn getLocalIdent(options.loaderContext, localIdentName, exportName, {\r\n\t\t\t\t\tregExp: localIdentRegExp,\r\n\t\t\t\t\thashPrefix: query.hashPrefix || \"\",\r\n\t\t\t\t\tcontext: context\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}),\r\n\t\tparserPlugin(parserOptions)\r\n\t]);\r\n\r\n\tif(minimize) {\r\n\t\tvar minimizeOptions = assign({}, query);\r\n\t\t[\"zindex\", \"normalizeUrl\", \"discardUnused\", \"mergeIdents\", \"reduceIdents\"].forEach(function(name) {\r\n\t\t\tif(typeof minimizeOptions[name] === \"undefined\")\r\n\t\t\t\tminimizeOptions[name] = false;\r\n\t\t});\r\n\t\tpipeline.use(cssnano(minimizeOptions));\r\n\t}\r\n\r\n\tpipeline.process(inputSource, {\r\n\t\t// we need a prefix to avoid path rewriting of PostCSS\r\n\t\tfrom: \"/css-loader!\" + options.from,\r\n\t\tto: options.to,\r\n\t\tmap: {\r\n\t\t\tprev: inputMap,\r\n\t\t\tsourcesContent: true,\r\n\t\t\tinline: false,\r\n\t\t\tannotation: false\r\n\t\t}\r\n\t}).then(function(result) {\r\n\t\tcallback(null, {\r\n\t\t\tsource: result.css,\r\n\t\t\tmap: result.map && result.map.toJSON(),\r\n\t\t\texports: parserOptions.exports,\r\n\t\t\timportItems: parserOptions.importItems,\r\n\t\t\timportItemRegExpG: /___CSS_LOADER_IMPORT___([0-9]+)___/g,\r\n\t\t\timportItemRegExp: /___CSS_LOADER_IMPORT___([0-9]+)___/,\r\n\t\t\turlItems: parserOptions.urlItems,\r\n\t\t\turlItemRegExpG: /___CSS_LOADER_URL___([0-9]+)___/g,\r\n\t\t\turlItemRegExp: /___CSS_LOADER_URL___([0-9]+)___/\r\n\t\t});\r\n\t}).catch(function(err) {\r\n\t\tcallback(err);\r\n\t});\r\n};\r\n"]}