{"version":3,"sources":["int.js"],"names":[],"mappings":"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","file":"int-compiled.js","sourcesContent":["'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) return false;\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index + 1 === max) return true;\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (ch !== '0' && ch !== '1') return false;\n        hasDigits = true;\n      }\n      return hasDigits;\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits;\n    }\n\n    // base 8\n    for (; index < max; index++) {\n      ch = data[index];\n      if (ch === '_') continue;\n      if (!isOctCode(data.charCodeAt(index))) return false;\n      hasDigits = true;\n    }\n    return hasDigits;\n  }\n\n  // base 10 (except 0) or base 60\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') continue;\n    if (ch === ':') break;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  if (!hasDigits) return false;\n\n  // if !base60 - done;\n  if (ch !== ':') return true;\n\n  // base60 almost not used, no needs to optimize\n  return /^(:[0-5]?[0-9])+$/.test(data.slice(index));\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch, base, digits = [];\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if (value === '0') return 0;\n\n  if (ch === '0') {\n    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);\n    if (value[1] === 'x') return sign * parseInt(value, 16);\n    return sign * parseInt(value, 8);\n  }\n\n  if (value.indexOf(':') !== -1) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseInt(v, 10));\n    });\n\n    value = 0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += (d * base);\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return (Object.prototype.toString.call(object)) === '[object Number]' &&\n         (object % 1 === 0 && !common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (object) { return '0b' + object.toString(2); },\n    octal:       function (object) { return '0'  + object.toString(8); },\n    decimal:     function (object) { return        object.toString(10); },\n    hexadecimal: function (object) { return '0x' + object.toString(16).toUpperCase(); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n"]}