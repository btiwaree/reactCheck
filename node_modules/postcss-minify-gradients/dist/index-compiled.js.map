{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _postcss = require('postcss');\n\nvar _postcss2 = _interopRequireDefault(_postcss);\n\nvar _postcssValueParser = require('postcss-value-parser');\n\nvar _postcssValueParser2 = _interopRequireDefault(_postcssValueParser);\n\nvar angles = {\n    top: '0deg',\n    right: '90deg',\n    bottom: '180deg',\n    left: '270deg'\n};\n\nfunction getArguments(node) {\n    return node.nodes.reduce(function (list, child) {\n        if (child.type !== 'div') {\n            list[list.length - 1].push(child);\n        } else {\n            list.push([]);\n        }\n        return list;\n    }, [[]]);\n}\n\nfunction isLessThan(a, b) {\n    return a.unit === b.unit && parseInt(a.number, 10) >= parseInt(b.number, 10);\n}\n\nfunction optimise(decl) {\n    if (! ~decl.value.indexOf('gradient')) {\n        return;\n    }\n    decl.value = (0, _postcssValueParser2['default'])(decl.value).walk(function (node) {\n        if (node.type !== 'function') {\n            return false;\n        }\n        if (node.value === 'linear-gradient' || node.value === 'repeating-linear-gradient' || node.value === '-webkit-linear-gradient' || node.value === '-webkit-repeating-linear-gradient') {\n            var _ret = (function () {\n                var args = getArguments(node);\n                if (node.nodes[0].value === 'to' && args[0].length === 3) {\n                    node.nodes = node.nodes.slice(2);\n                    node.nodes[0].value = angles[node.nodes[0].value];\n                }\n                var lastStop = undefined;\n                args.forEach(function (arg, index) {\n                    if (!arg[2]) {\n                        return;\n                    }\n                    var thisStop = (0, _postcssValueParser.unit)(arg[2].value);\n                    if (!lastStop) {\n                        lastStop = thisStop;\n                        if (lastStop && lastStop.number === '0' && lastStop.unit !== 'deg') {\n                            arg[1].value = arg[2].value = '';\n                        }\n                        return;\n                    }\n                    if (isLessThan(lastStop, thisStop)) {\n                        arg[2].value = 0;\n                    }\n                    lastStop = thisStop;\n                    if (index === args.length - 1 && arg[2].value === '100%') {\n                        arg[1].value = arg[2].value = '';\n                    }\n                });\n                return {\n                    v: false\n                };\n            })();\n\n            if (typeof _ret === 'object') return _ret.v;\n        }\n        if (node.value === 'radial-gradient' || node.value === 'repeating-radial-gradient' || node.value === '-webkit-radial-gradient' || node.value === '-webkit-repeating-radial-gradient') {\n            var _ret2 = (function () {\n                var args = getArguments(node);\n                var lastStop = undefined;\n                args.forEach(function (arg) {\n                    if (!arg[2]) {\n                        return;\n                    }\n                    var thisStop = (0, _postcssValueParser.unit)(arg[2].value);\n                    if (!lastStop) {\n                        lastStop = thisStop;\n                        return;\n                    }\n                    if (isLessThan(lastStop, thisStop)) {\n                        arg[2].value = 0;\n                    }\n                    lastStop = thisStop;\n                });\n                return {\n                    v: false\n                };\n            })();\n\n            if (typeof _ret2 === 'object') return _ret2.v;\n        }\n    }).toString();\n}\n\nexports['default'] = _postcss2['default'].plugin('postcss-minify-gradients', function () {\n    return function (css) {\n        return css.walkDecls(optimise);\n    };\n});\nmodule.exports = exports['default'];"]}