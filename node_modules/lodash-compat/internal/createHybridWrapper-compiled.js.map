{"version":3,"sources":["createHybridWrapper.js"],"names":[],"mappings":"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","file":"createHybridWrapper-compiled.js","sourcesContent":["var arrayCopy = require('./arrayCopy'),\n    composeArgs = require('./composeArgs'),\n    composeArgsRight = require('./composeArgsRight'),\n    createCtorWrapper = require('./createCtorWrapper'),\n    isLaziable = require('./isLaziable'),\n    reorder = require('./reorder'),\n    replaceHolders = require('./replaceHolders'),\n    setData = require('./setData');\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    CURRY_RIGHT_FLAG = 16,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64,\n    ARY_FLAG = 128;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that wraps `func` and invokes it with optional `this`\n * binding of, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to reference.\n * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & ARY_FLAG,\n      isBind = bitmask & BIND_FLAG,\n      isBindKey = bitmask & BIND_KEY_FLAG,\n      isCurry = bitmask & CURRY_FLAG,\n      isCurryBound = bitmask & CURRY_BOUND_FLAG,\n      isCurryRight = bitmask & CURRY_RIGHT_FLAG,\n      Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n  function wrapper() {\n    // Avoid `arguments` object use disqualifying optimizations by\n    // converting it to an array before providing it to other functions.\n    var length = arguments.length,\n        index = length,\n        args = Array(length);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight);\n    }\n    if (isCurry || isCurryRight) {\n      var placeholder = wrapper.placeholder,\n          argsHolders = replaceHolders(args, placeholder);\n\n      length -= argsHolders.length;\n      if (length < arity) {\n        var newArgPos = argPos ? arrayCopy(argPos) : undefined,\n            newArity = nativeMax(arity - length, 0),\n            newsHolders = isCurry ? argsHolders : undefined,\n            newHoldersRight = isCurry ? undefined : argsHolders,\n            newPartials = isCurry ? args : undefined,\n            newPartialsRight = isCurry ? undefined : args;\n\n        bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n        bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n        if (!isCurryBound) {\n          bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n        }\n        var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\n            result = createHybridWrapper.apply(undefined, newData);\n\n        if (isLaziable(func)) {\n          setData(result, newData);\n        }\n        result.placeholder = placeholder;\n        return result;\n      }\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    if (argPos) {\n      args = reorder(args, argPos);\n    }\n    if (isAry && ary < args.length) {\n      args.length = ary;\n    }\n    if (this && this !== global && this instanceof wrapper) {\n      fn = Ctor || createCtorWrapper(func);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybridWrapper;\n"]}