{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AACA,IAAI,gBAAgB,QAAQ,iBAAR,CAAhB;AACJ,IAAI,eAAe,QAAQ,eAAR,CAAf;AACJ,IAAI,WAAW,QAAQ,UAAR,CAAX;AACJ,IAAI,cAAc,QAAQ,6BAAR,CAAd;AACJ,IAAI,iBAAiB,QAAQ,kBAAR,CAAjB;AACJ,IAAI,UAAU,QAAQ,UAAR,CAAV;;;;;;;;AAQJ,SAAS,QAAT,GAAoB;AACnB,KAAI,EAAE,gBAAgB,QAAhB,CAAF,EAA6B;AAChC,SAAO,IAAI,QAAJ,EAAP,CADgC;EAAjC;;AAIA,MAAK,OAAL,GAAe,EAAf,CALmB;CAApB;;;;;;;;;AAeA,SAAS,SAAT,CAAmB,GAAnB,GAAyB,UAAU,IAAV,EAAgB;AACxC,KAAI,CAAC,UAAU,MAAV,EAAkB;AACtB,SAAO,KAAK,IAAL,CADe;EAAvB;;AAIA,MAAK,IAAL,GAAY,IAAZ,CALwC;AAMxC,QAAO,IAAP,CANwC;CAAhB;;;;;;;;;AAgBzB,SAAS,SAAT,CAAmB,IAAnB,GAA0B,UAAU,GAAV,EAAe;AACxC,KAAI,CAAC,UAAU,MAAV,EAAkB;AACtB,SAAO,KAAK,KAAL,CADe;EAAvB;;AAIA,MAAK,KAAL,GAAa,GAAb,CALwC;AAMxC,QAAO,IAAP,CANwC;CAAf;;;;;;;;;AAgB1B,SAAS,SAAT,CAAmB,GAAnB,GAAyB,UAAU,MAAV,EAAkB;AAC1C,MAAK,OAAL,CAAa,IAAb,CAAkB,OAAO,MAAP,KAAkB,UAAlB,GAA+B,QAA/B,GAA0C,MAA1C,CAAlB,CAD0C;AAE1C,QAAO,IAAP,CAF0C;CAAlB;;;;;;;;;AAYzB,SAAS,SAAT,CAAmB,GAAnB,GAAyB,UAAU,EAAV,EAAc;AACtC,MAAK,MAAM,YAAY,EAAZ,CAD2B;;AAGtC,KAAI,SAAS,KAAK,YAAL,EAAT,CAHkC;;AAKtC,QAAO,EAAP,CAAU,OAAV,EAAmB,EAAnB,EALsC;AAMtC,QAAO,IAAP,CAAY,aAAa,EAAC,UAAU,QAAV,EAAd,EAAmC,GAAG,IAAH,CAAQ,IAAR,EAAc,IAAd,CAAnC,CAAZ,EANsC;CAAd;;;;;;;;AAezB,SAAS,SAAT,CAAmB,YAAnB,GAAkC,YAAY;AAC7C,MAAK,OAAL,CAAa,OAAb,CAAqB,KAAK,QAAL,EAArB,EAD6C;;AAG7C,KAAI,KAAK,OAAL,CAAa,MAAb,KAAwB,CAAxB,EAA2B;AAC9B,OAAK,GAAL,CAAS,SAAS,QAAT,EAAT,EAD8B;AAE9B,OAAK,GAAL,CAAS,SAAS,QAAT,EAAT,EAF8B;AAG9B,OAAK,GAAL,CAAS,SAAS,OAAT,EAAT,EAH8B;AAI9B,OAAK,GAAL,CAAS,SAAS,IAAT,EAAT,EAJ8B;EAA/B;;AAOA,KAAI,KAAK,IAAL,EAAJ,EAAiB;AAChB,OAAK,OAAL,CAAa,IAAb,CAAkB,QAAQ,IAAR,CAAa,KAAK,IAAL,EAAb,CAAlB,EADgB;EAAjB;;AAIA,QAAO,eAAe,GAAf,CAAmB,KAAK,OAAL,CAA1B,CAd6C;CAAZ;;;;;;;;AAuBlC,SAAS,SAAT,CAAmB,QAAnB,GAA8B,YAAY;AACzC,KAAI,OAAO,QAAP,CAAgB,KAAK,GAAL,EAAhB,CAAJ,EAAiC;AAChC,SAAO,cAAc,MAAd,CAAqB,KAAK,GAAL,EAArB,CAAP,CADgC;EAAjC;;AAIA,QAAO,QAAQ,GAAR,CAAY,KAAK,GAAL,EAAZ,CAAP,CALyC;CAAZ;;;;;;AAY9B,OAAO,OAAP,GAAiB,QAAjB;;AAEA,CACC,UADD,EAEC,UAFD,EAGC,SAHD,EAIC,MAJD,EAKE,OALF,CAKU,UAAU,MAAV,EAAkB;AAC3B,QAAO,OAAP,CAAe,MAAf,IAAyB,SAAS,cAAc,MAAd,CAAT,IAAkC,YAAY;AACtE,SAAO,YAAY;AAClB,UAAO,IAAI,WAAJ,CAAgB,EAAC,YAAY,IAAZ,EAAjB,CAAP,CADkB;GAAZ,CAD+D;EAAZ,CADhC;CAAlB,CALV","file":"index-compiled.js","sourcesContent":["'use strict';\nvar bufferToVinyl = require('buffer-to-vinyl');\nvar concatStream = require('concat-stream');\nvar optional = require('optional');\nvar PassThrough = require('readable-stream/passthrough');\nvar streamCombiner = require('stream-combiner2');\nvar vinylFs = require('vinyl-fs');\n\n/**\n * Initialize Imagemin\n *\n * @api public\n */\n\nfunction Imagemin() {\n\tif (!(this instanceof Imagemin)) {\n\t\treturn new Imagemin();\n\t}\n\n\tthis.streams = [];\n}\n\n/**\n * Get or set the source files\n *\n * @param {Array|Buffer|String} file\n * @api public\n */\n\nImagemin.prototype.src = function (file) {\n\tif (!arguments.length) {\n\t\treturn this._src;\n\t}\n\n\tthis._src = file;\n\treturn this;\n};\n\n/**\n * Get or set the destination folder\n *\n * @param {String} dir\n * @api public\n */\n\nImagemin.prototype.dest = function (dir) {\n\tif (!arguments.length) {\n\t\treturn this._dest;\n\t}\n\n\tthis._dest = dir;\n\treturn this;\n};\n\n/**\n * Add a plugin to the middleware stack\n *\n * @param {Function} plugin\n * @api public\n */\n\nImagemin.prototype.use = function (plugin) {\n\tthis.streams.push(typeof plugin === 'function' ? plugin() : plugin);\n\treturn this;\n};\n\n/**\n * Optimize files\n *\n * @param {Function} cb\n * @api public\n */\n\nImagemin.prototype.run = function (cb) {\n\tcb = cb || function () {};\n\n\tvar stream = this.createStream();\n\n\tstream.on('error', cb);\n\tstream.pipe(concatStream({encoding: 'object'}, cb.bind(null, null)));\n};\n\n/**\n * Create stream\n *\n * @api private\n */\n\nImagemin.prototype.createStream = function () {\n\tthis.streams.unshift(this.getFiles());\n\n\tif (this.streams.length === 1) {\n\t\tthis.use(Imagemin.gifsicle());\n\t\tthis.use(Imagemin.jpegtran());\n\t\tthis.use(Imagemin.optipng());\n\t\tthis.use(Imagemin.svgo());\n\t}\n\n\tif (this.dest()) {\n\t\tthis.streams.push(vinylFs.dest(this.dest()));\n\t}\n\n\treturn streamCombiner.obj(this.streams);\n};\n\n/**\n * Get files\n *\n * @api private\n */\n\nImagemin.prototype.getFiles = function () {\n\tif (Buffer.isBuffer(this.src())) {\n\t\treturn bufferToVinyl.stream(this.src());\n\t}\n\n\treturn vinylFs.src(this.src());\n};\n\n/**\n * Module exports\n */\n\nmodule.exports = Imagemin;\n\n[\n\t'gifsicle',\n\t'jpegtran',\n\t'optipng',\n\t'svgo'\n].forEach(function (plugin) {\n\tmodule.exports[plugin] = optional('imagemin-' + plugin) || function () {\n\t\treturn function () {\n\t\t\treturn new PassThrough({objectMode: true});\n\t\t};\n\t};\n});\n"]}