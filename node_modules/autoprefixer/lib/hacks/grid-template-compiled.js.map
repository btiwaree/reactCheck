{"version":3,"sources":["grid-template.js"],"names":[],"mappings":"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","file":"grid-template-compiled.js","sourcesContent":["(function() {\n  var Declaration, GridTemplate, parser,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  parser = require('postcss-value-parser');\n\n  Declaration = require('../declaration');\n\n  GridTemplate = (function(superClass) {\n    extend(GridTemplate, superClass);\n\n    function GridTemplate() {\n      return GridTemplate.__super__.constructor.apply(this, arguments);\n    }\n\n    GridTemplate.names = ['grid-template-rows', 'grid-template-columns', 'grid-rows', 'grid-columns'];\n\n    GridTemplate.prototype.prefixed = function(prop, prefix) {\n      if (prefix === '-ms-') {\n        return prefix + prop.replace('template-', '');\n      } else {\n        return GridTemplate.__super__.prefixed.call(this, prop, prefix);\n      }\n    };\n\n    GridTemplate.prototype.normalize = function(prop) {\n      return prop.replace(/^grid-(rows|columns)/, 'grid-template-$1');\n    };\n\n    GridTemplate.prototype.walkRepeat = function(node) {\n      var count, first, fixed, i, j, len, ref;\n      fixed = [];\n      ref = node.nodes;\n      for (j = 0, len = ref.length; j < len; j++) {\n        i = ref[j];\n        if (i.nodes) {\n          this.walkRepeat(i);\n        }\n        fixed.push(i);\n        if (i.type === 'function' && i.value === 'repeat') {\n          first = i.nodes.shift();\n          if (first) {\n            count = first.value;\n            i.nodes.shift();\n            i.value = '';\n            fixed.push({\n              type: 'word',\n              value: \"[\" + count + \"]\"\n            });\n          }\n        }\n      }\n      return node.nodes = fixed;\n    };\n\n    GridTemplate.prototype.changeRepeat = function(value) {\n      var ast;\n      ast = parser(value);\n      this.walkRepeat(ast);\n      return ast.toString();\n    };\n\n    GridTemplate.prototype.set = function(decl, prefix) {\n      if (prefix === '-ms-' && decl.value.indexOf('repeat(') !== -1) {\n        decl.value = this.changeRepeat(decl.value);\n      }\n      return GridTemplate.__super__.set.call(this, decl, prefix);\n    };\n\n    return GridTemplate;\n\n  })(Declaration);\n\n  module.exports = GridTemplate;\n\n}).call(this);\n"]}