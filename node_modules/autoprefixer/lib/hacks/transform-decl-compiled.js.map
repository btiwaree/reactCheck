{"version":3,"sources":["transform-decl.js"],"names":[],"mappings":"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","file":"transform-decl-compiled.js","sourcesContent":["(function() {\n  var Declaration, TransformDecl,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  Declaration = require('../declaration');\n\n  TransformDecl = (function(superClass) {\n    extend(TransformDecl, superClass);\n\n    function TransformDecl() {\n      return TransformDecl.__super__.constructor.apply(this, arguments);\n    }\n\n    TransformDecl.names = ['transform', 'transform-origin'];\n\n    TransformDecl.functions3d = ['matrix3d', 'translate3d', 'translateZ', 'scale3d', 'scaleZ', 'rotate3d', 'rotateX', 'rotateY', 'perspective'];\n\n    TransformDecl.prototype.keyframeParents = function(decl) {\n      var parent;\n      parent = decl.parent;\n      while (parent) {\n        if (parent.type === 'atrule' && parent.name === 'keyframes') {\n          return true;\n        }\n        parent = parent.parent;\n      }\n      return false;\n    };\n\n    TransformDecl.prototype.contain3d = function(decl) {\n      var func, i, len, ref;\n      if (decl.prop === 'transform-origin') {\n        return false;\n      }\n      ref = TransformDecl.functions3d;\n      for (i = 0, len = ref.length; i < len; i++) {\n        func = ref[i];\n        if (decl.value.indexOf(func + \"(\") !== -1) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    TransformDecl.prototype.set = function(decl, prefix) {\n      decl = TransformDecl.__super__.set.apply(this, arguments);\n      if (prefix === '-ms-') {\n        decl.value = decl.value.replace(/rotateZ/gi, 'rotate');\n      }\n      return decl;\n    };\n\n    TransformDecl.prototype.insert = function(decl, prefix, prefixes) {\n      if (prefix === '-ms-') {\n        if (!this.contain3d(decl) && !this.keyframeParents(decl)) {\n          return TransformDecl.__super__.insert.apply(this, arguments);\n        }\n      } else if (prefix === '-o-') {\n        if (!this.contain3d(decl)) {\n          return TransformDecl.__super__.insert.apply(this, arguments);\n        }\n      } else {\n        return TransformDecl.__super__.insert.apply(this, arguments);\n      }\n    };\n\n    return TransformDecl;\n\n  })(Declaration);\n\n  module.exports = TransformDecl;\n\n}).call(this);\n"]}