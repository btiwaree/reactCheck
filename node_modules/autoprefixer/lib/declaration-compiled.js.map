{"version":3,"sources":["declaration.js"],"names":[],"mappings":"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","file":"declaration-compiled.js","sourcesContent":["(function() {\n  var Browsers, Declaration, Prefixer, utils, vendor,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  Prefixer = require('./prefixer');\n\n  Browsers = require('./browsers');\n\n  vendor = require('postcss/lib/vendor');\n\n  utils = require('./utils');\n\n  Declaration = (function(superClass) {\n    extend(Declaration, superClass);\n\n    function Declaration() {\n      return Declaration.__super__.constructor.apply(this, arguments);\n    }\n\n    Declaration.prototype.check = function(decl) {\n      return true;\n    };\n\n    Declaration.prototype.prefixed = function(prop, prefix) {\n      return prefix + prop;\n    };\n\n    Declaration.prototype.normalize = function(prop) {\n      return prop;\n    };\n\n    Declaration.prototype.otherPrefixes = function(value, prefix) {\n      var j, len, other, ref;\n      ref = Browsers.prefixes();\n      for (j = 0, len = ref.length; j < len; j++) {\n        other = ref[j];\n        if (other === prefix) {\n          continue;\n        }\n        if (value.indexOf(other) !== -1) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    Declaration.prototype.set = function(decl, prefix) {\n      decl.prop = this.prefixed(decl.prop, prefix);\n      return decl;\n    };\n\n    Declaration.prototype.needCascade = function(decl) {\n      return decl._autoprefixerCascade || (decl._autoprefixerCascade = this.all.options.cascade !== false && decl.raw('before').indexOf('\\n') !== -1);\n    };\n\n    Declaration.prototype.maxPrefixed = function(prefixes, decl) {\n      var j, len, max, prefix;\n      if (decl._autoprefixerMax) {\n        return decl._autoprefixerMax;\n      }\n      max = 0;\n      for (j = 0, len = prefixes.length; j < len; j++) {\n        prefix = prefixes[j];\n        prefix = utils.removeNote(prefix);\n        if (prefix.length > max) {\n          max = prefix.length;\n        }\n      }\n      return decl._autoprefixerMax = max;\n    };\n\n    Declaration.prototype.calcBefore = function(prefixes, decl, prefix) {\n      var before, diff, i, j, max, ref;\n      if (prefix == null) {\n        prefix = '';\n      }\n      before = decl.raw('before');\n      max = this.maxPrefixed(prefixes, decl);\n      diff = max - utils.removeNote(prefix).length;\n      for (i = j = 0, ref = diff; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n        before += ' ';\n      }\n      return before;\n    };\n\n    Declaration.prototype.restoreBefore = function(decl) {\n      var lines, min;\n      lines = decl.raw('before').split(\"\\n\");\n      min = lines[lines.length - 1];\n      this.all.group(decl).up(function(prefixed) {\n        var array, last;\n        array = prefixed.raw('before').split(\"\\n\");\n        last = array[array.length - 1];\n        if (last.length < min.length) {\n          return min = last;\n        }\n      });\n      lines[lines.length - 1] = min;\n      return decl.raws.before = lines.join(\"\\n\");\n    };\n\n    Declaration.prototype.insert = function(decl, prefix, prefixes) {\n      var already, cloned;\n      cloned = this.set(this.clone(decl), prefix);\n      if (!cloned) {\n        return;\n      }\n      already = decl.parent.some(function(i) {\n        return i.prop === cloned.prop && i.value === cloned.value;\n      });\n      if (already) {\n        return;\n      }\n      if (this.needCascade(decl)) {\n        cloned.raws.before = this.calcBefore(prefixes, decl, prefix);\n      }\n      return decl.parent.insertBefore(decl, cloned);\n    };\n\n    Declaration.prototype.isAlready = function(decl, prefixed) {\n      var already;\n      already = this.all.group(decl).up(function(i) {\n        return i.prop === prefixed;\n      });\n      already || (already = this.all.group(decl).down(function(i) {\n        return i.prop === prefixed;\n      }));\n      return already;\n    };\n\n    Declaration.prototype.add = function(decl, prefix, prefixes) {\n      var prefixed;\n      prefixed = this.prefixed(decl.prop, prefix);\n      if (this.isAlready(decl, prefixed) || this.otherPrefixes(decl.value, prefix)) {\n        return;\n      }\n      return this.insert(decl, prefix, prefixes);\n    };\n\n    Declaration.prototype.process = function(decl) {\n      var prefixes;\n      if (this.needCascade(decl)) {\n        prefixes = Declaration.__super__.process.apply(this, arguments);\n        if (prefixes != null ? prefixes.length : void 0) {\n          this.restoreBefore(decl);\n          return decl.raws.before = this.calcBefore(prefixes, decl);\n        }\n      } else {\n        return Declaration.__super__.process.apply(this, arguments);\n      }\n    };\n\n    Declaration.prototype.old = function(prop, prefix) {\n      return [this.prefixed(prop, prefix)];\n    };\n\n    return Declaration;\n\n  })(Prefixer);\n\n  module.exports = Declaration;\n\n}).call(this);\n"]}