{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,SAAS,QAAQ,iBAAR,CAAT;;AAEJ,SAAS,aAAT,CAAuB,OAAvB,EAAgC,QAAhC,EAA0C,QAA1C,EAAoD;AAClD,MAAI,OAAO,QAAP,KAAoB,WAApB,EAAiC;AACnC,eAAW,QAAX,CADmC;AAEnC,eAAW,OAAX,CAFmC;AAGnC,cAAU,IAAV,CAHmC;GAArC;;AAMA,SAAO,MAAP,CAAc,IAAd,CAAmB,IAAnB,EAAyB,OAAzB,EAPkD;;AASlD,MAAI,OAAO,SAAS,IAAT,KAAkB,UAAzB,EAAqC;AACvC,eAAW,IAAK,OAAO,QAAP,CAAgB,OAApB,CAAD,CAA+B,IAA/B,CAAoC,QAApC,CAAX,CADuC;GAAzC;;AAIA,OAAK,SAAL,GAAiB,QAAjB,CAbkD;AAclD,OAAK,SAAL,GAAiB,QAAjB,CAdkD;AAelD,OAAK,QAAL,GAAgB,KAAhB,CAfkD;;AAiBlD,MAAI,OAAO,IAAP,CAjB8C;;AAmBlD,WAAS,IAAT,CAAc,QAAd,EAAwB,YAAW;AACjC,SAAK,GAAL,GADiC;GAAX,CAAxB,CAnBkD;;AAuBlD,OAAK,IAAL,CAAU,QAAV,EAAoB,YAAW;AAC7B,aAAS,GAAT,GAD6B;GAAX,CAApB,CAvBkD;;AA2BlD,WAAS,EAAT,CAAY,UAAZ,EAAwB,YAAW;AACjC,QAAI,KAAK,QAAL,EAAe;AACjB,WAAK,QAAL,GAAgB,KAAhB,CADiB;AAEjB,WAAK,KAAL,GAFiB;KAAnB;GADsB,CAAxB,CA3BkD;;AAkClD,WAAS,IAAT,CAAc,KAAd,EAAqB,YAAW;AAC9B,SAAK,IAAL,CAAU,IAAV,EAD8B;GAAX,CAArB,CAlCkD;;AAsClD,MAAI,CAAC,OAAD,IAAY,OAAO,QAAQ,YAAR,KAAyB,WAAhC,IAA+C,QAAQ,YAAR,EAAsB;AACnF,aAAS,EAAT,CAAY,OAAZ,EAAqB,UAAS,GAAT,EAAc;AACjC,WAAK,IAAL,CAAU,OAAV,EAAmB,GAAnB,EADiC;KAAd,CAArB,CADmF;;AAKnF,aAAS,EAAT,CAAY,OAAZ,EAAqB,UAAS,GAAT,EAAc;AACjC,WAAK,IAAL,CAAU,OAAV,EAAmB,GAAnB,EADiC;KAAd,CAArB,CALmF;GAArF;CAtCF;;AAiDA,cAAc,SAAd,GAA0B,OAAO,MAAP,CAAc,OAAO,MAAP,CAAc,SAAd,EAAyB,EAAC,aAAa,EAAC,OAAO,aAAP,EAAd,EAAxC,CAA1B;;AAEA,cAAc,SAAd,CAAwB,MAAxB,GAAiC,SAAS,MAAT,CAAgB,KAAhB,EAAuB,QAAvB,EAAiC,IAAjC,EAAuC;AACtE,OAAK,SAAL,CAAe,KAAf,CAAqB,KAArB,EAA4B,QAA5B,EAAsC,IAAtC,EADsE;CAAvC;;AAIjC,cAAc,SAAd,CAAwB,KAAxB,GAAgC,SAAS,KAAT,GAAiB;AAC/C,MAAI,GAAJ,CAD+C;AAE/C,MAAI,QAAQ,CAAR,CAF2C;AAG/C,SAAO,CAAC,MAAM,KAAK,SAAL,CAAe,IAAf,EAAN,CAAD,KAAkC,IAAlC,EAAwC;AAC7C,SAAK,IAAL,CAAU,GAAV,EAD6C;AAE7C,YAF6C;GAA/C;AAIA,MAAI,UAAU,CAAV,EAAa;AACf,SAAK,QAAL,GAAgB,IAAhB,CADe;GAAjB;CAP8B;;AAYhC,OAAO,OAAP,GAAiB,SAAS,OAAT,CAAiB,OAAjB,EAA0B,QAA1B,EAAoC,QAApC,EAA8C;AAC7D,SAAO,IAAI,aAAJ,CAAkB,OAAlB,EAA2B,QAA3B,EAAqC,QAArC,CAAP,CAD6D;CAA9C;;AAIjB,OAAO,OAAP,CAAe,aAAf,GAA+B,aAA/B","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nvar stream = require(\"readable-stream\");\n\nfunction DuplexWrapper(options, writable, readable) {\n  if (typeof readable === \"undefined\") {\n    readable = writable;\n    writable = options;\n    options = null;\n  }\n\n  stream.Duplex.call(this, options);\n\n  if (typeof readable.read !== \"function\") {\n    readable = (new stream.Readable(options)).wrap(readable);\n  }\n\n  this._writable = writable;\n  this._readable = readable;\n  this._waiting = false;\n\n  var self = this;\n\n  writable.once(\"finish\", function() {\n    self.end();\n  });\n\n  this.once(\"finish\", function() {\n    writable.end();\n  });\n\n  readable.on(\"readable\", function() {\n    if (self._waiting) {\n      self._waiting = false;\n      self._read();\n    }\n  });\n\n  readable.once(\"end\", function() {\n    self.push(null);\n  });\n\n  if (!options || typeof options.bubbleErrors === \"undefined\" || options.bubbleErrors) {\n    writable.on(\"error\", function(err) {\n      self.emit(\"error\", err);\n    });\n\n    readable.on(\"error\", function(err) {\n      self.emit(\"error\", err);\n    });\n  }\n}\n\nDuplexWrapper.prototype = Object.create(stream.Duplex.prototype, {constructor: {value: DuplexWrapper}});\n\nDuplexWrapper.prototype._write = function _write(input, encoding, done) {\n  this._writable.write(input, encoding, done);\n};\n\nDuplexWrapper.prototype._read = function _read() {\n  var buf;\n  var reads = 0;\n  while ((buf = this._readable.read()) !== null) {\n    this.push(buf);\n    reads++;\n  }\n  if (reads === 0) {\n    this._waiting = true;\n  }\n};\n\nmodule.exports = function duplex2(options, writable, readable) {\n  return new DuplexWrapper(options, writable, readable);\n};\n\nmodule.exports.DuplexWrapper = DuplexWrapper;\n"]}