{"version":3,"sources":["unwrap.js"],"names":[],"mappings":";;;;AAIA,IAAI,QAAQ,GAAR,CAAY,OAAZ,EAAqB;AACvB,MAAI,UAAU,QAAQ,uBAAR,CADS;AAEvB,MAAI,YAAY,QAAQ,SAAR,CAAkB,WAAlB,CAAZ,CAFmB;AAGvB,UAAQ,kBAAR,CAA2B,QAA3B,EAHuB;AAIvB,SAAO,QAAQ,uBAAR,CAJgB;AAKvB,SAAO,QAAQ,QAAR,EAAkB,MAAlB,CAAyB,QAAQ,OAAR,CAAgB,QAAhB,CAAzB,CAAP,CALuB;CAAzB;;AAQA,IAAI,eAAe,QAAQ,QAAR,CAAf;AACJ,IAAI,UAAU,CAAV;;AAEJ,IAAI,SAAS,aAAa,UAAU,IAAV,EAAgB,MAAhB,EAAwB;AAChD,YADgD;AAEhD,UAAQ,GAAR,CAAY,qCAAZ,EACY,OADZ,EACqB,IADrB,EAC2B,MAD3B,EAFgD;CAAxB,EAIvB,EAAC,YAAY,IAAZ,EAJS,CAAT;AAKJ;;AAEA,SAAS,aAAa,UAAU,IAAV,EAAgB,MAAhB,EAAwB;AAC5C,YAD4C;AAE5C,UAAQ,GAAR,CAAY,sCAAZ,EACY,OADZ,EACqB,IADrB,EAC2B,MAD3B,EAF4C;CAAxB,CAAtB;AAKA;;AAEA,IAAI,OAAO,YAAP,IAAuB,SAAvB,IAAoC,UAAU,MAAV,EAAkB;AACxD,YAAU,OAAV,CAAkB,UAAU,EAAV,EAAc;AAC9B,iBAAa,EAAb,EAAiB,EAAE,YAAY,IAAZ,EAAnB,EAD8B;GAAd,CAAlB,CADwD;CAA1D;;AAMA,QAAQ,IAAR,CAAa,QAAQ,GAAR,EAAa,QAA1B;AACA,WAAW,YAAY,EAAZ,EAAgB,IAA3B","file":"unwrap-compiled.js","sourcesContent":["// simulate cases where the module could be loaded from multiple places\n\n// Need to lie about this a little bit, since nyc uses this module\n// for its coverage wrap-up handling\nif (process.env.NYC_CWD) {\n  var emitter = process.__signal_exit_emitter__\n  var listeners = emitter.listeners('afterexit')\n  process.removeAllListeners('SIGHUP')\n  delete process.__signal_exit_emitter__\n  delete require('module')._cache[require.resolve('../../')]\n}\n\nvar onSignalExit = require('../../')\nvar counter = 0\n\nvar unwrap = onSignalExit(function (code, signal) {\n  counter++\n  console.log('last counter=%j, code=%j, signal=%j',\n              counter, code, signal)\n}, {alwaysLast: true})\nunwrap()\n\nunwrap = onSignalExit(function (code, signal) {\n  counter++\n  console.log('first counter=%j, code=%j, signal=%j',\n              counter, code, signal)\n})\nunwrap()\n\nif (global.__coverage__ && listeners && listeners.length) {\n  listeners.forEach(function (fn) {\n    onSignalExit(fn, { alwaysLast: true })\n  })\n}\n\nprocess.kill(process.pid, 'SIGHUP')\nsetTimeout(function () {}, 1000)\n"]}