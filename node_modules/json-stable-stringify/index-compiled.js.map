{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var json = typeof JSON !== 'undefined' ? JSON : require('jsonify');\n\nmodule.exports = function (obj, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var space = opts.space || '';\n    if (typeof space === 'number') space = Array(space+1).join(' ');\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n    var replacer = opts.replacer || function(key, value) { return value; };\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (parent, key, node, level) {\n        var indent = space ? ('\\n' + new Array(level + 1).join(space)) : '';\n        var colonSeparator = space ? ': ' : ':';\n\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        node = replacer.call(parent, key, node);\n\n        if (node === undefined) {\n            return;\n        }\n        if (typeof node !== 'object' || node === null) {\n            return json.stringify(node);\n        }\n        if (isArray(node)) {\n            var out = [];\n            for (var i = 0; i < node.length; i++) {\n                var item = stringify(node, i, node[i], level+1) || json.stringify(null);\n                out.push(indent + space + item);\n            }\n            return '[' + out.join(',') + indent + ']';\n        }\n        else {\n            if (seen.indexOf(node) !== -1) {\n                if (cycles) return json.stringify('__cycle__');\n                throw new TypeError('Converting circular structure to JSON');\n            }\n            else seen.push(node);\n\n            var keys = objectKeys(node).sort(cmp && cmp(node));\n            var out = [];\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var value = stringify(node, key, node[key], level+1);\n\n                if(!value) continue;\n\n                var keyValue = json.stringify(key)\n                    + colonSeparator\n                    + value;\n                ;\n                out.push(indent + space + keyValue);\n            }\n            seen.splice(seen.indexOf(node), 1);\n            return '{' + out.join(',') + indent + '}';\n        }\n    })({ '': obj }, '', obj, 0);\n};\n\nvar isArray = Array.isArray || function (x) {\n    return {}.toString.call(x) === '[object Array]';\n};\n\nvar objectKeys = Object.keys || function (obj) {\n    var has = Object.prototype.hasOwnProperty || function () { return true };\n    var keys = [];\n    for (var key in obj) {\n        if (has.call(obj, key)) keys.push(key);\n    }\n    return keys;\n};\n"]}