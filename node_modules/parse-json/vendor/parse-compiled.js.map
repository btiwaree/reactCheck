{"version":3,"sources":["parse.js"],"names":[],"mappings":"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","file":"parse-compiled.js","sourcesContent":["/*\n * Author: Alex Kocharin <alex@kocharin.ru>\n * GIT: https://github.com/rlidwka/jju\n * License: WTFPL, grab your copy here: http://www.wtfpl.net/txt/copying/\n */\n\n// RTFM: http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\n\nvar Uni = require('./unicode')\n\nfunction isHexDigit(x) {\n  return (x >= '0' && x <= '9')\n      || (x >= 'A' && x <= 'F')\n      || (x >= 'a' && x <= 'f')\n}\n\nfunction isOctDigit(x) {\n  return x >= '0' && x <= '7'\n}\n\nfunction isDecDigit(x) {\n  return x >= '0' && x <= '9'\n}\n\nvar unescapeMap = {\n  '\\'': '\\'',\n  '\"' : '\"',\n  '\\\\': '\\\\',\n  'b' : '\\b',\n  'f' : '\\f',\n  'n' : '\\n',\n  'r' : '\\r',\n  't' : '\\t',\n  'v' : '\\v',\n  '/' : '/',\n}\n\nfunction formatError(input, msg, position, lineno, column, json5) {\n  var result = msg + ' at ' + (lineno + 1) + ':' + (column + 1)\n    , tmppos = position - column - 1\n    , srcline = ''\n    , underline = ''\n\n  var isLineTerminator = json5 ? Uni.isLineTerminator : Uni.isLineTerminatorJSON\n\n  // output no more than 70 characters before the wrong ones\n  if (tmppos < position - 70) {\n    tmppos = position - 70\n  }\n\n  while (1) {\n    var chr = input[++tmppos]\n\n    if (isLineTerminator(chr) || tmppos === input.length) {\n      if (position >= tmppos) {\n        // ending line error, so show it after the last char\n        underline += '^'\n      }\n      break\n    }\n    srcline += chr\n\n    if (position === tmppos) {\n      underline += '^'\n    } else if (position > tmppos) {\n      underline += input[tmppos] === '\\t' ? '\\t' : ' '\n    }\n\n    // output no more than 78 characters on the string\n    if (srcline.length > 78) break\n  }\n\n  return result + '\\n' + srcline + '\\n' + underline\n}\n\nfunction parse(input, options) {\n  // parse as a standard JSON mode\n  var json5 = !(options.mode === 'json' || options.legacy)\n  var isLineTerminator = json5 ? Uni.isLineTerminator : Uni.isLineTerminatorJSON\n  var isWhiteSpace = json5 ? Uni.isWhiteSpace : Uni.isWhiteSpaceJSON\n\n  var length = input.length\n    , lineno = 0\n    , linestart = 0\n    , position = 0\n    , stack = []\n\n  var tokenStart = function() {}\n  var tokenEnd = function(v) {return v}\n\n  /* tokenize({\n       raw: '...',\n       type: 'whitespace'|'comment'|'key'|'literal'|'separator'|'newline',\n       value: 'number'|'string'|'whatever',\n       path: [...],\n     })\n  */\n  if (options._tokenize) {\n    ;(function() {\n      var start = null\n      tokenStart = function() {\n        if (start !== null) throw Error('internal error, token overlap')\n        start = position\n      }\n\n      tokenEnd = function(v, type) {\n        if (start != position) {\n          var hash = {\n            raw: input.substr(start, position-start),\n            type: type,\n            stack: stack.slice(0),\n          }\n          if (v !== undefined) hash.value = v\n          options._tokenize.call(null, hash)\n        }\n        start = null\n        return v\n      }\n    })()\n  }\n\n  function fail(msg) {\n    var column = position - linestart\n\n    if (!msg) {\n      if (position < length) {\n        var token = '\\'' +\n          JSON\n            .stringify(input[position])\n            .replace(/^\"|\"$/g, '')\n            .replace(/'/g, \"\\\\'\")\n            .replace(/\\\\\"/g, '\"')\n          + '\\''\n\n        if (!msg) msg = 'Unexpected token ' + token\n      } else {\n        if (!msg) msg = 'Unexpected end of input'\n      }\n    }\n\n    var error = SyntaxError(formatError(input, msg, position, lineno, column, json5))\n    error.row = lineno + 1\n    error.column = column + 1\n    throw error\n  }\n\n  function newline(chr) {\n    // account for <cr><lf>\n    if (chr === '\\r' && input[position] === '\\n') position++\n    linestart = position\n    lineno++\n  }\n\n  function parseGeneric() {\n    var result\n\n    while (position < length) {\n      tokenStart()\n      var chr = input[position++]\n\n      if (chr === '\"' || (chr === '\\'' && json5)) {\n        return tokenEnd(parseString(chr), 'literal')\n\n      } else if (chr === '{') {\n        tokenEnd(undefined, 'separator')\n        return parseObject()\n\n      } else if (chr === '[') {\n        tokenEnd(undefined, 'separator')\n        return parseArray()\n\n      } else if (chr === '-'\n             ||  chr === '.'\n             ||  isDecDigit(chr)\n                 //           + number       Infinity          NaN\n             ||  (json5 && (chr === '+' || chr === 'I' || chr === 'N'))\n      ) {\n        return tokenEnd(parseNumber(), 'literal')\n\n      } else if (chr === 'n') {\n        parseKeyword('null')\n        return tokenEnd(null, 'literal')\n\n      } else if (chr === 't') {\n        parseKeyword('true')\n        return tokenEnd(true, 'literal')\n\n      } else if (chr === 'f') {\n        parseKeyword('false')\n        return tokenEnd(false, 'literal')\n\n      } else {\n        position--\n        return tokenEnd(undefined)\n      }\n    }\n  }\n\n  function parseKey() {\n    var result\n\n    while (position < length) {\n      tokenStart()\n      var chr = input[position++]\n\n      if (chr === '\"' || (chr === '\\'' && json5)) {\n        return tokenEnd(parseString(chr), 'key')\n\n      } else if (chr === '{') {\n        tokenEnd(undefined, 'separator')\n        return parseObject()\n\n      } else if (chr === '[') {\n        tokenEnd(undefined, 'separator')\n        return parseArray()\n\n      } else if (chr === '.'\n             ||  isDecDigit(chr)\n      ) {\n        return tokenEnd(parseNumber(true), 'key')\n\n      } else if (json5\n             &&  Uni.isIdentifierStart(chr) || (chr === '\\\\' && input[position] === 'u')) {\n        // unicode char or a unicode sequence\n        var rollback = position - 1\n        var result = parseIdentifier()\n\n        if (result === undefined) {\n          position = rollback\n          return tokenEnd(undefined)\n        } else {\n          return tokenEnd(result, 'key')\n        }\n\n      } else {\n        position--\n        return tokenEnd(undefined)\n      }\n    }\n  }\n\n  function skipWhiteSpace() {\n    tokenStart()\n    while (position < length) {\n      var chr = input[position++]\n\n      if (isLineTerminator(chr)) {\n        position--\n        tokenEnd(undefined, 'whitespace')\n        tokenStart()\n        position++\n        newline(chr)\n        tokenEnd(undefined, 'newline')\n        tokenStart()\n\n      } else if (isWhiteSpace(chr)) {\n        // nothing\n\n      } else if (chr === '/'\n             && json5\n             && (input[position] === '/' || input[position] === '*')\n      ) {\n        position--\n        tokenEnd(undefined, 'whitespace')\n        tokenStart()\n        position++\n        skipComment(input[position++] === '*')\n        tokenEnd(undefined, 'comment')\n        tokenStart()\n\n      } else {\n        position--\n        break\n      }\n    }\n    return tokenEnd(undefined, 'whitespace')\n  }\n\n  function skipComment(multi) {\n    while (position < length) {\n      var chr = input[position++]\n\n      if (isLineTerminator(chr)) {\n        // LineTerminator is an end of singleline comment\n        if (!multi) {\n          // let parent function deal with newline\n          position--\n          return\n        }\n\n        newline(chr)\n\n      } else if (chr === '*' && multi) {\n        // end of multiline comment\n        if (input[position] === '/') {\n          position++\n          return\n        }\n\n      } else {\n        // nothing\n      }\n    }\n\n    if (multi) {\n      fail('Unclosed multiline comment')\n    }\n  }\n\n  function parseKeyword(keyword) {\n    // keyword[0] is not checked because it should've checked earlier\n    var _pos = position\n    var len = keyword.length\n    for (var i=1; i<len; i++) {\n      if (position >= length || keyword[i] != input[position]) {\n        position = _pos-1\n        fail()\n      }\n      position++\n    }\n  }\n\n  function parseObject() {\n    var result = options.null_prototype ? Object.create(null) : {}\n      , empty_object = {}\n      , is_non_empty = false\n\n    while (position < length) {\n      skipWhiteSpace()\n      var item1 = parseKey()\n      skipWhiteSpace()\n      tokenStart()\n      var chr = input[position++]\n      tokenEnd(undefined, 'separator')\n\n      if (chr === '}' && item1 === undefined) {\n        if (!json5 && is_non_empty) {\n          position--\n          fail('Trailing comma in object')\n        }\n        return result\n\n      } else if (chr === ':' && item1 !== undefined) {\n        skipWhiteSpace()\n        stack.push(item1)\n        var item2 = parseGeneric()\n        stack.pop()\n\n        if (item2 === undefined) fail('No value found for key ' + item1)\n        if (typeof(item1) !== 'string') {\n          if (!json5 || typeof(item1) !== 'number') {\n            fail('Wrong key type: ' + item1)\n          }\n        }\n\n        if ((item1 in empty_object || empty_object[item1] != null) && options.reserved_keys !== 'replace') {\n          if (options.reserved_keys === 'throw') {\n            fail('Reserved key: ' + item1)\n          } else {\n            // silently ignore it\n          }\n        } else {\n          if (typeof(options.reviver) === 'function') {\n            item2 = options.reviver.call(null, item1, item2)\n          }\n\n          if (item2 !== undefined) {\n            is_non_empty = true\n            Object.defineProperty(result, item1, {\n              value: item2,\n              enumerable: true,\n              configurable: true,\n              writable: true,\n            })\n          }\n        }\n\n        skipWhiteSpace()\n\n        tokenStart()\n        var chr = input[position++]\n        tokenEnd(undefined, 'separator')\n\n        if (chr === ',') {\n          continue\n\n        } else if (chr === '}') {\n          return result\n\n        } else {\n          fail()\n        }\n\n      } else {\n        position--\n        fail()\n      }\n    }\n\n    fail()\n  }\n\n  function parseArray() {\n    var result = []\n\n    while (position < length) {\n      skipWhiteSpace()\n      stack.push(result.length)\n      var item = parseGeneric()\n      stack.pop()\n      skipWhiteSpace()\n      tokenStart()\n      var chr = input[position++]\n      tokenEnd(undefined, 'separator')\n\n      if (item !== undefined) {\n        if (typeof(options.reviver) === 'function') {\n          item = options.reviver.call(null, String(result.length), item)\n        }\n        if (item === undefined) {\n          result.length++\n          item = true // hack for check below, not included into result\n        } else {\n          result.push(item)\n        }\n      }\n\n      if (chr === ',') {\n        if (item === undefined) {\n          fail('Elisions are not supported')\n        }\n\n      } else if (chr === ']') {\n        if (!json5 && item === undefined && result.length) {\n          position--\n          fail('Trailing comma in array')\n        }\n        return result\n\n      } else {\n        position--\n        fail()\n      }\n    }\n  }\n\n  function parseNumber() {\n    // rewind because we don't know first char\n    position--\n\n    var start = position\n      , chr = input[position++]\n      , t\n\n    var to_num = function(is_octal) {\n      var str = input.substr(start, position - start)\n\n      if (is_octal) {\n        var result = parseInt(str.replace(/^0o?/, ''), 8)\n      } else {\n        var result = Number(str)\n      }\n\n      if (Number.isNaN(result)) {\n        position--\n        fail('Bad numeric literal - \"' + input.substr(start, position - start + 1) + '\"')\n      } else if (!json5 && !str.match(/^-?(0|[1-9][0-9]*)(\\.[0-9]+)?(e[+-]?[0-9]+)?$/i)) {\n        // additional restrictions imposed by json\n        position--\n        fail('Non-json numeric literal - \"' + input.substr(start, position - start + 1) + '\"')\n      } else {\n        return result\n      }\n    }\n\n    // ex: -5982475.249875e+29384\n    //     ^ skipping this\n    if (chr === '-' || (chr === '+' && json5)) chr = input[position++]\n\n    if (chr === 'N' && json5) {\n      parseKeyword('NaN')\n      return NaN\n    }\n\n    if (chr === 'I' && json5) {\n      parseKeyword('Infinity')\n\n      // returning +inf or -inf\n      return to_num()\n    }\n\n    if (chr >= '1' && chr <= '9') {\n      // ex: -5982475.249875e+29384\n      //        ^^^ skipping these\n      while (position < length && isDecDigit(input[position])) position++\n      chr = input[position++]\n    }\n\n    // special case for leading zero: 0.123456\n    if (chr === '0') {\n      chr = input[position++]\n\n      //             new syntax, \"0o777\"           old syntax, \"0777\"\n      var is_octal = chr === 'o' || chr === 'O' || isOctDigit(chr)\n      var is_hex = chr === 'x' || chr === 'X'\n\n      if (json5 && (is_octal || is_hex)) {\n        while (position < length\n           &&  (is_hex ? isHexDigit : isOctDigit)( input[position] )\n        ) position++\n\n        var sign = 1\n        if (input[start] === '-') {\n          sign = -1\n          start++\n        } else if (input[start] === '+') {\n          start++\n        }\n\n        return sign * to_num(is_octal)\n      }\n    }\n\n    if (chr === '.') {\n      // ex: -5982475.249875e+29384\n      //                ^^^ skipping these\n      while (position < length && isDecDigit(input[position])) position++\n      chr = input[position++]\n    }\n\n    if (chr === 'e' || chr === 'E') {\n      chr = input[position++]\n      if (chr === '-' || chr === '+') position++\n      // ex: -5982475.249875e+29384\n      //                       ^^^ skipping these\n      while (position < length && isDecDigit(input[position])) position++\n      chr = input[position++]\n    }\n\n    // we have char in the buffer, so count for it\n    position--\n    return to_num()\n  }\n\n  function parseIdentifier() {\n    // rewind because we don't know first char\n    position--\n\n    var result = ''\n\n    while (position < length) {\n      var chr = input[position++]\n\n      if (chr === '\\\\'\n      &&  input[position] === 'u'\n      &&  isHexDigit(input[position+1])\n      &&  isHexDigit(input[position+2])\n      &&  isHexDigit(input[position+3])\n      &&  isHexDigit(input[position+4])\n      ) {\n        // UnicodeEscapeSequence\n        chr = String.fromCharCode(parseInt(input.substr(position+1, 4), 16))\n        position += 5\n      }\n\n      if (result.length) {\n        // identifier started\n        if (Uni.isIdentifierPart(chr)) {\n          result += chr\n        } else {\n          position--\n          return result\n        }\n\n      } else {\n        if (Uni.isIdentifierStart(chr)) {\n          result += chr\n        } else {\n          return undefined\n        }\n      }\n    }\n\n    fail()\n  }\n\n  function parseString(endChar) {\n    // 7.8.4 of ES262 spec\n    var result = ''\n\n    while (position < length) {\n      var chr = input[position++]\n\n      if (chr === endChar) {\n        return result\n\n      } else if (chr === '\\\\') {\n        if (position >= length) fail()\n        chr = input[position++]\n\n        if (unescapeMap[chr] && (json5 || (chr != 'v' && chr != \"'\"))) {\n          result += unescapeMap[chr]\n\n        } else if (json5 && isLineTerminator(chr)) {\n          // line continuation\n          newline(chr)\n\n        } else if (chr === 'u' || (chr === 'x' && json5)) {\n          // unicode/character escape sequence\n          var off = chr === 'u' ? 4 : 2\n\n          // validation for \\uXXXX\n          for (var i=0; i<off; i++) {\n            if (position >= length) fail()\n            if (!isHexDigit(input[position])) fail('Bad escape sequence')\n            position++\n          }\n\n          result += String.fromCharCode(parseInt(input.substr(position-off, off), 16))\n        } else if (json5 && isOctDigit(chr)) {\n          if (chr < '4' && isOctDigit(input[position]) && isOctDigit(input[position+1])) {\n            // three-digit octal\n            var digits = 3\n          } else if (isOctDigit(input[position])) {\n            // two-digit octal\n            var digits = 2\n          } else {\n            var digits = 1\n          }\n          position += digits - 1\n          result += String.fromCharCode(parseInt(input.substr(position-digits, digits), 8))\n          /*if (!isOctDigit(input[position])) {\n            // \\0 is allowed still\n            result += '\\0'\n          } else {\n            fail('Octal literals are not supported')\n          }*/\n\n        } else if (json5) {\n          // \\X -> x\n          result += chr\n\n        } else {\n          position--\n          fail()\n        }\n\n      } else if (isLineTerminator(chr)) {\n        fail()\n\n      } else {\n        if (!json5 && chr.charCodeAt(0) < 32) {\n          position--\n          fail('Unexpected control character')\n        }\n\n        // SourceCharacter but not one of \" or \\ or LineTerminator\n        result += chr\n      }\n    }\n\n    fail()\n  }\n\n  skipWhiteSpace()\n  var return_value = parseGeneric()\n  if (return_value !== undefined || position < length) {\n    skipWhiteSpace()\n\n    if (position >= length) {\n      if (typeof(options.reviver) === 'function') {\n        return_value = options.reviver.call(null, '', return_value)\n      }\n      return return_value\n    } else {\n      fail()\n    }\n\n  } else {\n    if (position) {\n      fail('No data, only a whitespace')\n    } else {\n      fail('No data, empty input')\n    }\n  }\n}\n\n/*\n * parse(text, options)\n * or\n * parse(text, reviver)\n *\n * where:\n * text - string\n * options - object\n * reviver - function\n */\nmodule.exports.parse = function parseJSON(input, options) {\n  // support legacy functions\n  if (typeof(options) === 'function') {\n    options = {\n      reviver: options\n    }\n  }\n\n  if (input === undefined) {\n    // parse(stringify(x)) should be equal x\n    // with JSON functions it is not 'cause of undefined\n    // so we're fixing it\n    return undefined\n  }\n\n  // JSON.parse compat\n  if (typeof(input) !== 'string') input = String(input)\n  if (options == null) options = {}\n  if (options.reserved_keys == null) options.reserved_keys = 'ignore'\n\n  if (options.reserved_keys === 'throw' || options.reserved_keys === 'ignore') {\n    if (options.null_prototype == null) {\n      options.null_prototype = true\n    }\n  }\n\n  try {\n    return parse(input, options)\n  } catch(err) {\n    // jju is a recursive parser, so JSON.parse(\"{{{{{{{\") could blow up the stack\n    //\n    // this catch is used to skip all those internal calls\n    if (err instanceof SyntaxError && err.row != null && err.column != null) {\n      var old_err = err\n      err = SyntaxError(old_err.message)\n      err.column = old_err.column\n      err.row = old_err.row\n    }\n    throw err\n  }\n}\n\nmodule.exports.tokenize = function tokenizeJSON(input, options) {\n  if (options == null) options = {}\n\n  options._tokenize = function(smth) {\n    if (options._addstack) smth.stack.unshift.apply(smth.stack, options._addstack)\n    tokens.push(smth)\n  }\n\n  var tokens = []\n  tokens.data = module.exports.parse(input, options)\n  return tokens\n}\n\n"]}