{"version":3,"sources":["3-disjoinRuleset.js"],"names":[],"mappings":"AAAA,IAAI,OAAO,QAAQ,qBAAR,CAAP;AACJ,IAAI,yBAAyB,QAAQ,gBAAR,EAA0B,UAA1B;;AAE7B,SAAS,cAAT,CAAwB,IAAxB,EAA8B,IAA9B,EAAoC,IAApC,EAA0C;AACtC,QAAI,YAAY,KAAK,QAAL,CAAc,SAAd;;;;;;;;;AADsB,WAU/B,UAAU,IAAV,KAAmB,UAAU,IAAV,EAAgB;AACtC,YAAI,eAAe,IAAI,IAAJ,EAAf,CADkC;AAEtC,qBAAa,MAAb,CAAoB,UAAU,MAAV,CAAiB,UAAU,IAAV,CAArC,EAFsC;;AAItC,aAAK,MAAL,CAAY,KAAK,UAAL,CAAgB;AACxB,kBAAM,SAAN;AACA,kBAAM,KAAK,IAAL;AACN,6BAAiB,KAAK,eAAL;AACjB,sBAAU;AACN,sBAAM,UAAN;AACA,sBAAM,KAAK,QAAL,CAAc,IAAd;AACN,2BAAW,YAAX;aAHJ;AAKA,mBAAO;AACH,sBAAM,OAAN;AACA,sBAAM,KAAK,KAAL,CAAW,IAAX;AACN,8BAAc,KAAK,KAAL,CAAW,YAAX,CAAwB,IAAxB,EAAd;aAHJ;SATQ,CAAZ,EAcI,IAdJ,EAJsC;KAA1C;CAVJ;;AAgCA,OAAO,OAAP,GAAiB,SAAS,cAAT,CAAwB,GAAxB,EAA6B;AAC1C,2BAAuB,GAAvB,EAA4B,UAAS,IAAT,EAAe,IAAf,EAAqB,IAArB,EAA2B;AACnD,YAAI,KAAK,IAAL,KAAc,SAAd,EAAyB;AACzB,2BAAe,IAAf,EAAqB,IAArB,EAA2B,IAA3B,EADyB;SAA7B;KADwB,CAA5B,CAD0C;CAA7B","file":"3-disjoinRuleset-compiled.js","sourcesContent":["var List = require('../../utils/list.js');\nvar internalWalkRulesRight = require('../ast/walk.js').rulesRight;\n\nfunction processRuleset(node, item, list) {\n    var selectors = node.selector.selectors;\n\n    // generate new rule sets:\n    // .a, .b { color: red; }\n    // ->\n    // .a { color: red; }\n    // .b { color: red; }\n\n    // while there are more than 1 simple selector split for rulesets\n    while (selectors.head !== selectors.tail) {\n        var newSelectors = new List();\n        newSelectors.insert(selectors.remove(selectors.head));\n\n        list.insert(list.createItem({\n            type: 'Ruleset',\n            info: node.info,\n            pseudoSignature: node.pseudoSignature,\n            selector: {\n                type: 'Selector',\n                info: node.selector.info,\n                selectors: newSelectors\n            },\n            block: {\n                type: 'Block',\n                info: node.block.info,\n                declarations: node.block.declarations.copy()\n            }\n        }), item);\n    }\n};\n\nmodule.exports = function disjoinRuleset(ast) {\n    internalWalkRulesRight(ast, function(node, item, list) {\n        if (node.type === 'Ruleset') {\n            processRuleset(node, item, list);\n        }\n    });\n};\n"]}