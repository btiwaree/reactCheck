{"version":3,"sources":["usage.js"],"names":[],"mappings":"AAAA,IAAI,iBAAiB,OAAO,SAAP,CAAiB,cAAjB;;AAErB,SAAS,QAAT,CAAkB,IAAlB,EAAwB,eAAxB,EAAyC;AACrC,QAAI,MAAM,OAAO,MAAP,CAAc,IAAd,CAAN,CADiC;;AAGrC,QAAI,CAAC,MAAM,OAAN,CAAc,IAAd,CAAD,EAAsB;AACtB,eAAO,KAAP,CADsB;KAA1B;;AAIA,SAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,KAAK,MAAL,EAAa,GAAjC,EAAsC;AAClC,YAAI,OAAO,KAAK,CAAL,CAAP,CAD8B;;AAGlC,YAAI,eAAJ,EAAqB;AACjB,mBAAO,KAAK,WAAL,EAAP,CADiB;SAArB;;AAIA,YAAI,IAAJ,IAAY,IAAZ,CAPkC;KAAtC;;AAUA,WAAO,GAAP,CAjBqC;CAAzC;;AAoBA,SAAS,UAAT,CAAoB,IAApB,EAA0B;AACtB,QAAI,SAAS,KAAT,CADkB;;AAGtB,QAAI,KAAK,MAAL,IAAe,MAAM,OAAN,CAAc,KAAK,MAAL,CAA7B,EAA2C;AAC3C,iBAAS,OAAO,MAAP,CAAc,IAAd,CAAT,CAD2C;;AAG3C,aAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,KAAK,MAAL,CAAY,MAAZ,EAAoB,GAAxC,EAA6C;AACzC,gBAAI,OAAO,KAAK,MAAL,CAAY,CAAZ,CAAP,CADqC;;AAGzC,gBAAI,CAAC,IAAD,IAAS,CAAC,MAAM,OAAN,CAAc,IAAd,CAAD,EAAsB;AAC/B,sBAAM,IAAI,KAAJ,CAAU,oBAAV,CAAN,CAD+B;aAAnC;;AAIA,iBAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,KAAK,MAAL,EAAa,GAAjC,EAAsC;AAClC,oBAAI,OAAO,KAAK,CAAL,CAAP,CAD8B;;AAGlC,oBAAI,eAAe,IAAf,CAAoB,MAApB,EAA4B,IAA5B,CAAJ,EAAuC;AACnC,0BAAM,IAAI,KAAJ,CAAU,8CAA8C,IAA9C,CAAhB,CADmC;iBAAvC;;AAIA,uBAAO,IAAP,IAAe,IAAI,CAAJ,CAPmB;aAAtC;SAPJ;KAHJ;;AAsBA,WAAO;AACH,cAAM,SAAS,KAAK,IAAL,EAAW,IAApB,CAAN;AACA,aAAK,SAAS,KAAK,GAAL,CAAd;AACA,iBAAS,SAAS,KAAK,OAAL,CAAlB;AACA,gBAAQ,MAAR;KAJJ,CAzBsB;CAA1B;;AAiCA,OAAO,OAAP,GAAiB;AACb,gBAAY,UAAZ;CADJ","file":"usage-compiled.js","sourcesContent":["var hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction buildMap(list, caseInsensitive) {\n    var map = Object.create(null);\n\n    if (!Array.isArray(list)) {\n        return false;\n    }\n\n    for (var i = 0; i < list.length; i++) {\n        var name = list[i];\n\n        if (caseInsensitive) {\n            name = name.toLowerCase();\n        }\n\n        map[name] = true;\n    }\n\n    return map;\n}\n\nfunction buildIndex(data) {\n    var scopes = false;\n\n    if (data.scopes && Array.isArray(data.scopes)) {\n        scopes = Object.create(null);\n\n        for (var i = 0; i < data.scopes.length; i++) {\n            var list = data.scopes[i];\n\n            if (!list || !Array.isArray(list)) {\n                throw new Error('Wrong usage format');\n            }\n\n            for (var j = 0; j < list.length; j++) {\n                var name = list[j];\n\n                if (hasOwnProperty.call(scopes, name)) {\n                    throw new Error('Class can\\'t be used for several scopes: ' + name);\n                }\n\n                scopes[name] = i + 1;\n            }\n        }\n    }\n\n    return {\n        tags: buildMap(data.tags, true),\n        ids: buildMap(data.ids),\n        classes: buildMap(data.classes),\n        scopes: scopes\n    };\n}\n\nmodule.exports = {\n    buildIndex: buildIndex\n};\n"]}