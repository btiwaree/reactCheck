{"version":3,"sources":["walk.js"],"names":[],"mappings":"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","file":"walk-compiled.js","sourcesContent":["function walkRules(node, item, list) {\n    switch (node.type) {\n        case 'StyleSheet':\n            var oldStylesheet = this.stylesheet;\n            this.stylesheet = node;\n\n            node.rules.each(walkRules, this);\n\n            this.stylesheet = oldStylesheet;\n            break;\n\n        case 'Atrule':\n            if (node.block !== null) {\n                walkRules.call(this, node.block);\n            }\n\n            this.fn(node, item, list);\n            break;\n\n        case 'Ruleset':\n            this.fn(node, item, list);\n            break;\n    }\n\n}\n\nfunction walkRulesRight(node, item, list) {\n    switch (node.type) {\n        case 'StyleSheet':\n            var oldStylesheet = this.stylesheet;\n            this.stylesheet = node;\n\n            node.rules.eachRight(walkRulesRight, this);\n\n            this.stylesheet = oldStylesheet;\n            break;\n\n        case 'Atrule':\n            if (node.block !== null) {\n                walkRulesRight.call(this, node.block);\n            }\n\n            this.fn(node, item, list);\n            break;\n\n        case 'Ruleset':\n            this.fn(node, item, list);\n            break;\n    }\n}\n\nfunction walkAll(node, item, list) {\n    switch (node.type) {\n        case 'StyleSheet':\n            var oldStylesheet = this.stylesheet;\n            this.stylesheet = node;\n\n            node.rules.each(walkAll, this);\n\n            this.stylesheet = oldStylesheet;\n            break;\n\n        case 'Atrule':\n            if (node.expression !== null) {\n                walkAll.call(this, node.expression);\n            }\n            if (node.block !== null) {\n                walkAll.call(this, node.block);\n            }\n            break;\n\n        case 'Ruleset':\n            this.ruleset = node;\n\n            if (node.selector !== null) {\n                walkAll.call(this, node.selector);\n            }\n            walkAll.call(this, node.block);\n\n            this.ruleset = null;\n            break;\n\n        case 'Selector':\n            var oldSelector = this.selector;\n            this.selector = node;\n\n            node.selectors.each(walkAll, this);\n\n            this.selector = oldSelector;\n            break;\n\n        case 'Block':\n            node.declarations.each(walkAll, this);\n            break;\n\n        case 'Declaration':\n            this.declaration = node;\n\n            walkAll.call(this, node.property);\n            walkAll.call(this, node.value);\n\n            this.declaration = null;\n            break;\n\n        case 'Attribute':\n            walkAll.call(this, node.name);\n            if (node.value !== null) {\n                walkAll.call(this, node.value);\n            }\n            break;\n\n        case 'FunctionalPseudo':\n        case 'Function':\n            this['function'] = node;\n\n            node.arguments.each(walkAll, this);\n\n            this['function'] = null;\n            break;\n\n        case 'Value':\n        case 'Argument':\n        case 'AtruleExpression':\n        case 'SimpleSelector':\n        case 'Braces':\n        case 'Negation':\n            node.sequence.each(walkAll, this);\n            break;\n\n        case 'Url':\n        case 'Progid':\n            walkAll.call(this, node.value);\n            break;\n\n        // nothig to do with\n        // case 'Property':\n        // case 'Combinator':\n        // case 'Dimension':\n        // case 'Hash':\n        // case 'Identifier':\n        // case 'Nth':\n        // case 'Class':\n        // case 'Id':\n        // case 'Percentage':\n        // case 'PseudoClass':\n        // case 'PseudoElement':\n        // case 'Space':\n        // case 'Number':\n        // case 'String':\n        // case 'Operator':\n        // case 'Raw':\n    }\n\n    this.fn(node, item, list);\n}\n\nfunction createContext(root, fn) {\n    var context = {\n        fn: fn,\n        root: root,\n        stylesheet: null,\n        ruleset: null,\n        selector: null,\n        declaration: null,\n        function: null\n    };\n\n    return context;\n}\n\nmodule.exports = {\n    all: function(root, fn) {\n        walkAll.call(createContext(root, fn), root);\n    },\n    rules: function(root, fn) {\n        walkRules.call(createContext(root, fn), root);\n    },\n    rulesRight: function(root, fn) {\n        walkRulesRight.call(createContext(root, fn), root);\n    }\n};\n"]}