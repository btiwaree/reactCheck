{"version":3,"sources":["Url.js"],"names":[],"mappings":"AAAA,IAAI,UAAU,4CAAV;AACJ,IAAI,SAAS,MAAM,OAAN,GAAgB,6BAAhB;AACb,IAAI,eAAe,uCAAf;AACJ,IAAI,WAAW,IAAI,MAAJ,CAAW,OAAO,MAAP,GAAgB,sBAAhB,GAAyC,YAAzC,GAAwD,MAAxD,EAAgE,GAA3E,CAAX;;AAEJ,OAAO,OAAP,GAAiB,UAAS,IAAT,EAAe;AAC5B,QAAI,QAAQ,KAAK,KAAL,CADgB;;AAG5B,QAAI,MAAM,IAAN,KAAe,QAAf,EAAyB;AACzB,eADyB;KAA7B;;AAIA,QAAI,QAAQ,MAAM,KAAN,CAAY,CAAZ,CAAR,CAPwB;AAQ5B,QAAI,MAAM,MAAM,KAAN,CAAY,MAAZ,CAAmB,CAAnB,EAAsB,MAAM,KAAN,CAAY,MAAZ,GAAqB,CAArB,CAA5B;;;AARwB,OAW5B,GAAM,IAAI,OAAJ,CAAY,OAAZ,EAAqB,GAArB,CAAN;;;;AAX4B,QAexB,SAAS,IAAT,CAAc,GAAd,CAAJ,EAAwB;AACpB,aAAK,KAAL,GAAa;AACT,kBAAM,KAAN;AACA,kBAAM,KAAK,KAAL,CAAW,IAAX;AACN,mBAAO,GAAP;SAHJ,CADoB;KAAxB,MAMO;;;;AAIH,aAAK,KAAL,CAAW,KAAX,GAAmB,IAAI,OAAJ,CAAY,GAAZ,MAAqB,CAAC,CAAD,GAAK,MAAM,GAAN,GAAY,GAAZ,GAAkB,QAAQ,GAAR,GAAc,KAAd,CAJ5D;KANP;CAfa","file":"Url-compiled.js","sourcesContent":["var UNICODE = '\\\\\\\\[0-9a-f]{1,6}(\\\\r\\\\n|[ \\\\n\\\\r\\\\t\\\\f])?';\nvar ESCAPE = '(' + UNICODE + '|\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F])';\nvar NONPRINTABLE = '\\u0000\\u0008\\u000b\\u000e-\\u001f\\u007f';\nvar SAFE_URL = new RegExp('^(' + ESCAPE + '|[^\\\"\\'\\\\(\\\\)\\\\\\\\\\\\s' + NONPRINTABLE + '])*$', 'i');\n\nmodule.exports = function(node) {\n    var value = node.value;\n\n    if (value.type !== 'String') {\n        return;\n    }\n\n    var quote = value.value[0];\n    var url = value.value.substr(1, value.value.length - 2);\n\n    // convert `\\\\` to `/`\n    url = url.replace(/\\\\\\\\/g, '/');\n\n    // remove quotes when safe\n    // https://www.w3.org/TR/css-syntax-3/#url-unquoted-diagram\n    if (SAFE_URL.test(url)) {\n        node.value = {\n            type: 'Raw',\n            info: node.value.info,\n            value: url\n        };\n    } else {\n        // use double quotes if string has no double quotes\n        // otherwise use original quotes\n        // TODO: make better quote type selection\n        node.value.value = url.indexOf('\"') === -1 ? '\"' + url + '\"' : quote + url + quote;\n    }\n};\n"]}