{"version":3,"sources":["removeEditorsNSData.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,IAAR,GAAe,SAAf;;AAEA,QAAQ,MAAR,GAAiB,IAAjB;;AAEA,QAAQ,WAAR,GAAsB,qDAAtB;;AAEA,IAAI,mBAAmB,QAAQ,gBAAR,EAA0B,gBAA1B;IACnB,WAAW,EAAX;;AAEJ,QAAQ,MAAR,GAAiB;AACb,0BAAsB,EAAtB;CADJ;;;;;;;;;;;;;;;;AAkBA,QAAQ,EAAR,GAAa,UAAS,IAAT,EAAe,MAAf,EAAuB;;AAEhC,QAAI,MAAM,OAAN,CAAc,OAAO,oBAAP,CAAlB,EAAgD;AAC5C,2BAAmB,iBAAiB,MAAjB,CAAwB,OAAO,oBAAP,CAA3C,CAD4C;KAAhD;;AAIA,QAAI,KAAK,IAAL,EAAW;;AAEX,YAAI,KAAK,MAAL,CAAY,KAAZ,CAAJ,EAAwB;;AAEpB,iBAAK,QAAL,CAAc,UAAS,IAAT,EAAe;AACzB,oBAAI,KAAK,MAAL,KAAgB,OAAhB,IAA2B,iBAAiB,OAAjB,CAAyB,KAAK,KAAL,CAAzB,GAAuC,CAAC,CAAD,EAAI;AACtE,6BAAS,IAAT,CAAc,KAAK,KAAL,CAAd;;;AADsE,wBAItE,CAAK,UAAL,CAAgB,KAAK,IAAL,CAAhB,CAJsE;iBAA1E;aADU,CAAd,CAFoB;SAAxB;;;AAFW,YAgBX,CAAK,QAAL,CAAc,UAAS,IAAT,EAAe;AACzB,gBAAI,SAAS,OAAT,CAAiB,KAAK,MAAL,CAAjB,GAAgC,CAAC,CAAD,EAAI;AACpC,qBAAK,UAAL,CAAgB,KAAK,IAAL,CAAhB,CADoC;aAAxC;SADU,CAAd;;;AAhBW,YAuBP,SAAS,OAAT,CAAiB,KAAK,MAAL,CAAjB,GAAgC,CAAC,CAAD,EAAI;AACpC,mBAAO,KAAP,CADoC;SAAxC;KAvBJ;CANS","file":"removeEditorsNSData-compiled.js","sourcesContent":["'use strict';\n\nexports.type = 'perItem';\n\nexports.active = true;\n\nexports.description = 'removes editors namespaces, elements and attributes';\n\nvar editorNamespaces = require('./_collections').editorNamespaces,\n    prefixes = [];\n\nexports.params = {\n    additionalNamespaces: []\n};\n\n/**\n * Remove editors namespaces, elements and attributes.\n *\n * @example\n * <svg xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\">\n * <sodipodi:namedview/>\n * <path sodipodi:nodetypes=\"cccc\"/>\n *\n * @param {Object} item current iteration item\n * @param {Object} params plugin params\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\nexports.fn = function(item, params) {\n\n    if (Array.isArray(params.additionalNamespaces)) {\n        editorNamespaces = editorNamespaces.concat(params.additionalNamespaces);\n    }\n\n    if (item.elem) {\n\n        if (item.isElem('svg')) {\n\n            item.eachAttr(function(attr) {\n                if (attr.prefix === 'xmlns' && editorNamespaces.indexOf(attr.value) > -1) {\n                    prefixes.push(attr.local);\n\n                    // <svg xmlns:sodipodi=\"\">\n                    item.removeAttr(attr.name);\n                }\n            });\n\n        }\n\n        // <* sodipodi:*=\"\">\n        item.eachAttr(function(attr) {\n            if (prefixes.indexOf(attr.prefix) > -1) {\n                item.removeAttr(attr.name);\n            }\n        });\n\n        // <sodipodi:*>\n        if (prefixes.indexOf(item.prefix) > -1) {\n            return false;\n        }\n\n    }\n\n};\n"]}