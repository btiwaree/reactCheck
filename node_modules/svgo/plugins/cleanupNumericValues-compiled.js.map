{"version":3,"sources":["cleanupNumericValues.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,IAAR,GAAe,SAAf;;AAEA,QAAQ,MAAR,GAAiB,IAAjB;;AAEA,QAAQ,WAAR,GAAsB,0EAAtB;;AAEA,QAAQ,MAAR,GAAiB;AACb,oBAAgB,CAAhB;AACA,iBAAa,IAAb;AACA,eAAW,IAAX;AACA,iBAAa,IAAb;CAJJ;;AAOA,IAAI,mBAAmB,sEAAnB;IACA,oBAAoB,QAAQ,mBAAR,EAA6B,iBAA7B;IACpB,kBAAkB;AACd,QAAI,KAAG,IAAH;AACJ,QAAI,KAAG,IAAH;AACJ,QAAI,EAAJ;AACA,QAAI,IAAE,CAAF;AACJ,QAAI,EAAJ;CALJ;;;;;;;;;;;;AAkBJ,QAAQ,EAAR,GAAa,UAAS,IAAT,EAAe,MAAf,EAAuB;;AAEhC,QAAI,KAAK,MAAL,EAAJ,EAAmB;;AAEf,YAAI,KAAJ,CAFe;;AAIf,aAAK,QAAL,CAAc,UAAS,IAAT,EAAe;AACzB,oBAAQ,KAAK,KAAL,CAAW,KAAX,CAAiB,gBAAjB,CAAR;;;AADyB,gBAIrB,KAAJ,EAAW;;AAEP,oBAAI,MAAM,CAAC,CAAC,CAAC,MAAM,CAAN,CAAD,CAAD,CAAY,OAAZ,CAAoB,OAAO,cAAP,CAArB;oBACN,QAAQ,MAAM,CAAN,KAAY,EAAZ;;;AAHL,oBAMH,OAAO,WAAP,IAAsB,KAAtB,IAAgC,SAAS,eAAT,EAA2B;AAC3D,wBAAI,QAAQ,CAAC,CAAC,gBAAgB,KAAhB,IAAyB,MAAM,CAAN,CAAzB,CAAD,CAAoC,OAApC,CAA4C,OAAO,cAAP,CAA7C,CAD+C;;AAG3D,wBAAI,OAAO,KAAP,EAAc,MAAd,GAAuB,MAAM,CAAN,EAAS,MAAT,EACvB,MAAM,KAAN,EACA,QAAQ,IAAR,CAFJ;iBAHJ;;;AANO,oBAeH,OAAO,WAAP,EAAoB;AACpB,0BAAM,kBAAkB,GAAlB,CAAN,CADoB;iBAAxB;;;AAfO,oBAoBH,OAAO,SAAP,IAAoB,UAAU,IAAV,EAAgB;AACpC,4BAAQ,EAAR,CADoC;iBAAxC;;AAIA,qBAAK,KAAL,GAAa,MAAM,KAAN,CAxBN;aAAX;SAJU,CAAd,CAJe;KAAnB;CAFS","file":"cleanupNumericValues-compiled.js","sourcesContent":["'use strict';\n\nexports.type = 'perItem';\n\nexports.active = true;\n\nexports.description = 'rounds numeric values to the fixed precision, removes default ‘px’ units';\n\nexports.params = {\n    floatPrecision: 3,\n    leadingZero: true,\n    defaultPx: true,\n    convertToPx: true\n};\n\nvar regNumericValues = /^([\\-+]?\\d*\\.?\\d+([eE][\\-+]?\\d+)?)(px|pt|pc|mm|cm|m|in|ft|em|ex|%)?$/,\n    removeLeadingZero = require('../lib/svgo/tools').removeLeadingZero,\n    absoluteLengths = { // relative to px\n        cm: 96/2.54,\n        mm: 96/25.4,\n        in: 96,\n        pt: 4/3,\n        pc: 16\n    };\n\n/**\n * Round numeric values to the fixed precision,\n * remove default 'px' units.\n *\n * @param {Object} item current iteration item\n * @param {Object} params plugin params\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\nexports.fn = function(item, params) {\n\n    if (item.isElem()) {\n\n        var match;\n\n        item.eachAttr(function(attr) {\n            match = attr.value.match(regNumericValues);\n\n            // if attribute value matches regNumericValues\n            if (match) {\n                // round it to the fixed precision\n                var num = +(+match[1]).toFixed(params.floatPrecision),\n                    units = match[3] || '';\n\n                // convert absolute values to pixels\n                if (params.convertToPx && units && (units in absoluteLengths)) {\n                    var pxNum = +(absoluteLengths[units] * match[1]).toFixed(params.floatPrecision);\n\n                    if (String(pxNum).length < match[0].length)\n                        num = pxNum,\n                        units = 'px';\n                }\n\n                // and remove leading zero\n                if (params.leadingZero) {\n                    num = removeLeadingZero(num);\n                }\n\n                // remove default 'px' units\n                if (params.defaultPx && units === 'px') {\n                    units = '';\n                }\n\n                attr.value = num + units;\n            }\n        });\n\n    }\n\n};\n"]}