{"version":3,"sources":["removeUselessDefs.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,IAAR,GAAe,SAAf;;AAEA,QAAQ,MAAR,GAAiB,IAAjB;;AAEA,QAAQ,WAAR,GAAsB,uCAAtB;;AAEA,IAAI,eAAe,QAAQ,gBAAR,EAA0B,WAA1B,CAAsC,YAAtC;IACf,IADJ;;;;;;;;;;AAWA,QAAQ,EAAR,GAAa,UAAS,IAAT,EAAe;;AAExB,QAAI,KAAK,MAAL,CAAY,MAAZ,CAAJ,EAAyB;;AAErB,eAAO,IAAP,CAFqB;AAGrB,aAAK,OAAL,GAAe,CAAC,KAAK,OAAL,IAAgB,EAAhB,CAAD,CAAqB,MAArB,CAA4B,cAA5B,EAA4C,EAA5C,CAAf,CAHqB;;AAKrB,YAAI,KAAK,OAAL,EAAJ,EAAoB,OAAO,KAAP,CAApB;KALJ,MAOO,IAAI,KAAK,MAAL,CAAY,YAAZ,KAA6B,CAAC,KAAK,OAAL,CAAa,IAAb,CAAD,EAAqB;;AAEzD,eAAO,KAAP,CAFyD;KAAtD;CATE;;AAiBb,SAAS,cAAT,CAAwB,WAAxB,EAAqC,IAArC,EAA2C;;AAEvC,QAAI,KAAK,OAAL,CAAa,IAAb,KAAsB,KAAK,MAAL,CAAY,OAAZ,CAAtB,EAA4C;;AAE5C,oBAAY,IAAZ,CAAiB,IAAjB,EAF4C;AAG5C,aAAK,UAAL,GAAkB,IAAlB,CAH4C;KAAhD,MAKO,IAAI,CAAC,KAAK,OAAL,EAAD,EAAiB;;AAExB,aAAK,OAAL,CAAa,MAAb,CAAoB,cAApB,EAAoC,WAApC,EAFwB;KAArB;;AAMP,WAAO,WAAP,CAbuC;CAA3C","file":"removeUselessDefs-compiled.js","sourcesContent":["'use strict';\n\nexports.type = 'perItem';\n\nexports.active = true;\n\nexports.description = 'removes elements in <defs> without id';\n\nvar nonRendering = require('./_collections').elemsGroups.nonRendering,\n    defs;\n\n/**\n * Removes content of defs and properties that aren't rendered directly without ids.\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Lev Solntsev\n */\nexports.fn = function(item) {\n\n    if (item.isElem('defs')) {\n\n        defs = item;\n        item.content = (item.content || []).reduce(getUsefulItems, []);\n\n        if (item.isEmpty()) return false;\n\n    } else if (item.isElem(nonRendering) && !item.hasAttr('id')) {\n\n        return false;\n\n    }\n\n};\n\nfunction getUsefulItems(usefulItems, item) {\n\n    if (item.hasAttr('id') || item.isElem('style')) {\n\n        usefulItems.push(item);\n        item.parentNode = defs;\n\n    } else if (!item.isEmpty()) {\n\n        item.content.reduce(getUsefulItems, usefulItems);\n\n    }\n\n    return usefulItems;\n}\n"]}