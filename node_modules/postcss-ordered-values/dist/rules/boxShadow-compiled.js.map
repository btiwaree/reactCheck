{"version":3,"sources":["boxShadow.js"],"names":[],"mappings":"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","file":"boxShadow-compiled.js","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.default = normalizeBoxShadow;\n\nvar _postcssValueParser = require('postcss-value-parser');\n\nvar _postcssValueParser2 = _interopRequireDefault(_postcssValueParser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getArguments(node) {\n    return node.nodes.reduce(function (list, child) {\n        if (child.type !== 'div' || child.value !== ',') {\n            list[list.length - 1].push(child);\n        } else {\n            list.push([]);\n        }\n        return list;\n    }, [[]]);\n}\n\n// box-shadow: inset? && <length>{2,4} && <color>?\n\nfunction normalizeBoxShadow(decl) {\n    if (decl.prop !== 'box-shadow') {\n        return;\n    }\n    var parsed = (0, _postcssValueParser2.default)(decl.value);\n    if (parsed.nodes.length < 2) {\n        return;\n    }\n\n    var args = getArguments(parsed);\n    var values = [];\n\n    args.forEach(function (arg) {\n        values.push([]);\n        var value = values[values.length - 1];\n        var state = {\n            inset: [],\n            color: []\n        };\n        arg.forEach(function (node) {\n            if (node.type === 'space') {\n                return;\n            }\n            if ((0, _postcssValueParser.unit)(node.value)) {\n                value.push(node);\n                value.push({ type: 'space', value: ' ' });\n            } else if (node.value === 'inset') {\n                state.inset.push(node);\n                state.inset.push({ type: 'space', value: ' ' });\n            } else {\n                state.color.push(node);\n                state.color.push({ type: 'space', value: ' ' });\n            }\n        });\n        values[values.length - 1] = state.inset.concat(value).concat(state.color);\n    });\n\n    decl.value = (0, _postcssValueParser.stringify)({\n        nodes: values.reduce(function (nodes, arg, index) {\n            arg.forEach(function (val, idx) {\n                if (idx === arg.length - 1 && index === values.length - 1 && val.type === 'space') {\n                    return;\n                }\n                nodes.push(val);\n            });\n            if (index !== values.length - 1) {\n                if (nodes[nodes.length - 1] && nodes[nodes.length - 1].type === 'space') {\n                    nodes[nodes.length - 1].type = 'div';\n                    nodes[nodes.length - 1].value = ',';\n                    return nodes;\n                }\n                nodes.push({ type: 'div', value: ',' });\n            }\n            return nodes;\n        }, [])\n    });\n}\nmodule.exports = exports['default'];"]}