{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,UAAR,GAAqB,IAArB;;AAEA,IAAI,WAAW,QAAQ,SAAR,CAAX;;AAEJ,IAAI,YAAY,uBAAuB,QAAvB,CAAZ;;AAEJ,IAAI,sBAAsB,QAAQ,sBAAR,CAAtB;;AAEJ,IAAI,uBAAuB,uBAAuB,mBAAvB,CAAvB;;AAEJ,IAAI,YAAY,QAAQ,UAAR,CAAZ;;AAEJ,IAAI,aAAa,uBAAuB,SAAvB,CAAb;;AAEJ,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,WAAO,OAAO,IAAI,UAAJ,GAAiB,GAAxB,GAA8B,EAAE,SAAS,GAAT,EAAhC,CAAT;CAArC;;AAEA,SAAS,iBAAT,CAA2B,IAA3B,EAAiC;AAC7B,SAAK,KAAL,GAAa,CAAC,GAAG,qBAAqB,OAArB,CAAJ,CAAkC,KAAK,KAAL,CAAlC,CAA8C,IAA9C,CAAmD,UAAU,IAAV,EAAgB;AAC5E,YAAI,KAAK,IAAL,KAAc,UAAd,IAA4B,KAAK,IAAL,KAAc,KAAd,EAAqB;AACjD,iBAAK,MAAL,GAAc,KAAK,KAAL,GAAa,EAAb,CADmC;SAArD;KAD4D,CAAnD,CAIV,QAJU,EAAb,CAD6B;CAAjC;;AAQA,SAAS,SAAT,CAAmB,IAAnB,EAAyB,IAAzB,EAA+B;AAC3B,QAAI,KAAK,IAAL,KAAc,6BAAd,EAA6C;AAC7C,YAAI,KAAK,KAAL,KAAe,SAAf,IAA4B,KAAK,KAAL,KAAe,aAAf,EAA8B;AAC1D,mBAD0D;SAA9D;AAGA,0BAAkB,IAAlB,EAJ6C;AAK7C,eAL6C;KAAjD;AAOA,QAAI,iBAAiB,IAAjB,CAAsB,KAAK,IAAL,CAA1B,EAAsC;AAClC,eADkC;KAAtC;AAGA,SAAK,KAAL,GAAa,CAAC,GAAG,qBAAqB,OAArB,CAAJ,CAAkC,KAAK,KAAL,CAAlC,CAA8C,IAA9C,CAAmD,UAAU,IAAV,EAAgB;AAC5E,YAAI,KAAK,IAAL,KAAc,UAAd,EAA0B;AAC1B,gBAAI,gBAAgB,IAAhB,CAAqB,KAAK,KAAL,CAAzB,EAAsC;AAClC,qBAAK,KAAL,GAAa,CAAC,GAAG,WAAW,OAAX,CAAJ,CAAwB,CAAC,GAAG,oBAAoB,SAApB,CAAJ,CAAmC,IAAnC,CAAxB,EAAkE,IAAlE,CAAb,CADkC;AAElC,qBAAK,IAAL,GAAY,MAAZ,CAFkC;aAAtC,MAGO,IAAI,KAAK,KAAL,KAAe,MAAf,EAAuB;AAC9B,uBAAO,KAAP,CAD8B;aAA3B;SAJX,MAOO;AACH,iBAAK,KAAL,GAAa,CAAC,GAAG,WAAW,OAAX,CAAJ,CAAwB,KAAK,KAAL,EAAY,IAApC,CAAb,CADG;SAPP;KAD4D,CAAnD,CAWV,QAXU,EAAb,CAX2B;CAA/B;;AAyBA,QAAQ,OAAR,GAAkB,UAAU,OAAV,CAAkB,MAAlB,CAAyB,kBAAzB,EAA6C,YAAY;AACvE,QAAI,OAAO,UAAU,MAAV,IAAoB,CAApB,IAAyB,UAAU,CAAV,MAAiB,SAAjB,GAA6B,EAAtD,GAA2D,UAAU,CAAV,CAA3D,CAD4D;;AAGvE,WAAO,UAAU,GAAV,EAAe;AAClB,eAAO,IAAI,SAAJ,CAAc,UAAU,IAAV,EAAgB;AACjC,mBAAO,UAAU,IAAV,EAAgB,IAAhB,CAAP,CADiC;SAAhB,CAArB,CADkB;KAAf,CAHgE;CAAZ,CAA/D;AASA,OAAO,OAAP,GAAiB,QAAQ,SAAR,CAAjB","file":"index-compiled.js","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _postcss = require('postcss');\n\nvar _postcss2 = _interopRequireDefault(_postcss);\n\nvar _postcssValueParser = require('postcss-value-parser');\n\nvar _postcssValueParser2 = _interopRequireDefault(_postcssValueParser);\n\nvar _colormin = require('colormin');\n\nvar _colormin2 = _interopRequireDefault(_colormin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction reduceWhitespaces(decl) {\n    decl.value = (0, _postcssValueParser2.default)(decl.value).walk(function (node) {\n        if (node.type === 'function' || node.type === 'div') {\n            node.before = node.after = '';\n        }\n    }).toString();\n}\n\nfunction transform(decl, opts) {\n    if (decl.prop === '-webkit-tap-highlight-color') {\n        if (decl.value === 'inherit' || decl.value === 'transparent') {\n            return;\n        }\n        reduceWhitespaces(decl);\n        return;\n    }\n    if (/^(font|filter)/.test(decl.prop)) {\n        return;\n    }\n    decl.value = (0, _postcssValueParser2.default)(decl.value).walk(function (node) {\n        if (node.type === 'function') {\n            if (/^(rgb|hsl)a?$/.test(node.value)) {\n                node.value = (0, _colormin2.default)((0, _postcssValueParser.stringify)(node), opts);\n                node.type = 'word';\n            } else if (node.value === 'calc') {\n                return false;\n            }\n        } else {\n            node.value = (0, _colormin2.default)(node.value, opts);\n        }\n    }).toString();\n}\n\nexports.default = _postcss2.default.plugin('postcss-colormin', function () {\n    var opts = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    return function (css) {\n        return css.walkDecls(function (node) {\n            return transform(node, opts);\n        });\n    };\n});\nmodule.exports = exports['default'];"]}