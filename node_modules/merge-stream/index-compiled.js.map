{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,cAAc,QAAQ,6BAAR,CAAd;;AAEJ,OAAO,OAAP,GAAiB,0BAA0B;AACzC,MAAI,UAAU,EAAV,CADqC;AAEzC,MAAI,SAAU,IAAI,WAAJ,CAAgB,EAAC,YAAY,IAAZ,EAAjB,CAAV,CAFqC;;AAIzC,SAAO,eAAP,CAAuB,CAAvB,EAJyC;;AAMzC,SAAO,GAAP,GAAa,GAAb,CANyC;AAOzC,SAAO,OAAP,GAAiB,OAAjB,CAPyC;;AASzC,SAAO,EAAP,CAAU,QAAV,EAAoB,MAApB,EATyC;;AAWzC,QAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,SAA3B,EAAsC,OAAtC,CAA8C,GAA9C,EAXyC;;AAazC,SAAO,MAAP,CAbyC;;AAezC,WAAS,GAAT,CAAc,MAAd,EAAsB;AACpB,QAAI,MAAM,OAAN,CAAc,MAAd,CAAJ,EAA2B;AACzB,aAAO,OAAP,CAAe,GAAf,EADyB;AAEzB,aAAO,IAAP,CAFyB;KAA3B;;AAKA,YAAQ,IAAR,CAAa,MAAb,EANoB;AAOpB,WAAO,IAAP,CAAY,KAAZ,EAAmB,OAAO,IAAP,CAAY,IAAZ,EAAkB,MAAlB,CAAnB,EAPoB;AAQpB,WAAO,IAAP,CAAY,MAAZ,EAAoB,EAAC,KAAK,KAAL,EAArB,EARoB;AASpB,WAAO,IAAP,CAToB;GAAtB;;AAYA,WAAS,OAAT,GAAoB;AAClB,WAAO,QAAQ,MAAR,IAAkB,CAAlB,CADW;GAApB;;AAIA,WAAS,MAAT,CAAiB,MAAjB,EAAyB;AACvB,cAAU,QAAQ,MAAR,CAAe,UAAU,EAAV,EAAc;AAAE,aAAO,OAAO,MAAP,CAAT;KAAd,CAAzB,CADuB;AAEvB,QAAI,CAAC,QAAQ,MAAR,IAAkB,OAAO,QAAP,EAAiB;AAAE,aAAO,GAAP,GAAF;KAAxC;GAFF;CA/Be","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar PassThrough = require('readable-stream/passthrough')\n\nmodule.exports = function (/*streams...*/) {\n  var sources = []\n  var output  = new PassThrough({objectMode: true})\n\n  output.setMaxListeners(0)\n\n  output.add = add\n  output.isEmpty = isEmpty\n\n  output.on('unpipe', remove)\n\n  Array.prototype.slice.call(arguments).forEach(add)\n\n  return output\n\n  function add (source) {\n    if (Array.isArray(source)) {\n      source.forEach(add)\n      return this\n    }\n\n    sources.push(source);\n    source.once('end', remove.bind(null, source))\n    source.pipe(output, {end: false})\n    return this\n  }\n\n  function isEmpty () {\n    return sources.length == 0;\n  }\n\n  function remove (source) {\n    sources = sources.filter(function (it) { return it !== source })\n    if (!sources.length && output.readable) { output.end() }\n  }\n}\n"]}