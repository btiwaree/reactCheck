{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _postcss = require('postcss');\n\nvar _postcss2 = _interopRequireDefault(_postcss);\n\nvar _postcssValueParser = require('postcss-value-parser');\n\nvar _postcssValueParser2 = _interopRequireDefault(_postcssValueParser);\n\nvar _normalizeUrl = require('normalize-url');\n\nvar _normalizeUrl2 = _interopRequireDefault(_normalizeUrl);\n\nvar _isAbsoluteUrl = require('is-absolute-url');\n\nvar _isAbsoluteUrl2 = _interopRequireDefault(_isAbsoluteUrl);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar multiline = /\\\\[\\r\\n]/;\nvar escapeChars = /([\\s\\(\\)\"'])/g;\n\nfunction convert(url, options) {\n    if ((0, _isAbsoluteUrl2.default)(url) || !url.indexOf('//')) {\n        return (0, _normalizeUrl2.default)(url, options);\n    }\n    return _path2.default.normalize(url).replace(new RegExp('\\\\' + _path2.default.sep, 'g'), '/');\n}\n\nfunction transformNamespace(rule, opts) {\n    rule.params = (0, _postcssValueParser2.default)(rule.params).walk(function (node) {\n        if (node.type === 'function' && node.value === 'url' && node.nodes.length) {\n            node.type = 'string';\n            node.quote = node.nodes[0].quote || '\"';\n            node.value = node.nodes[0].value;\n        }\n\n        if (node.type === 'string') {\n            node.value = convert(node.value.trim(), opts);\n        }\n\n        return false;\n    }).toString();\n}\n\nfunction transformDecl(decl, opts) {\n    decl.value = (0, _postcssValueParser2.default)(decl.value).walk(function (node) {\n        if (node.type !== 'function' || node.value !== 'url' || !node.nodes.length) {\n            return false;\n        }\n\n        var url = node.nodes[0];\n        var escaped = undefined;\n\n        node.before = node.after = '';\n        url.value = url.value.trim().replace(multiline, '');\n\n        if (~url.value.indexOf('data:image/') || ~url.value.indexOf('data:application/') || ~url.value.indexOf('data:font/')) {\n            return false;\n        }\n\n        if (! ~url.value.indexOf('chrome-extension')) {\n            url.value = convert(url.value, opts);\n        }\n\n        if (escapeChars.test(url.value)) {\n            escaped = url.value.replace(escapeChars, '\\\\$1');\n            if (escaped.length < url.value.length + (url.type === 'string' ? 2 : 0)) {\n                url.value = escaped;\n                url.type = 'word';\n            }\n        } else {\n            url.type = 'word';\n        }\n\n        return false;\n    }).toString();\n}\n\nmodule.exports = _postcss2.default.plugin('postcss-normalize-url', function (opts) {\n    opts = _extends({\n        normalizeProtocol: false,\n        stripFragment: false,\n        stripWWW: true\n    }, opts);\n\n    return function (css) {\n        css.walk(function (node) {\n            if (node.type === 'decl') {\n                return transformDecl(node, opts);\n            } else if (node.type === 'atrule' && node.name === 'namespace') {\n                return transformNamespace(node, opts);\n            }\n        });\n    };\n});"]}