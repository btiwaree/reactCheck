{"version":3,"sources":["through2.js"],"names":[],"mappings":"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","file":"through2-compiled.js","sourcesContent":["var Transform = require('readable-stream/transform')\n  , inherits  = require('util').inherits\n  , xtend     = require('xtend')\n\nfunction DestroyableTransform(opts) {\n  Transform.call(this, opts)\n  this._destroyed = false\n}\n\ninherits(DestroyableTransform, Transform)\n\nDestroyableTransform.prototype.destroy = function(err) {\n  if (this._destroyed) return\n  this._destroyed = true\n  \n  var self = this\n  process.nextTick(function() {\n    if (err)\n      self.emit('error', err)\n    self.emit('close')\n  })\n}\n\n// a noop _transform function\nfunction noop (chunk, enc, callback) {\n  callback(null, chunk)\n}\n\n\n// create a new export function, used by both the main export and\n// the .ctor export, contains common logic for dealing with arguments\nfunction through2 (construct) {\n  return function (options, transform, flush) {\n    if (typeof options == 'function') {\n      flush     = transform\n      transform = options\n      options   = {}\n    }\n\n    if (typeof transform != 'function')\n      transform = noop\n\n    if (typeof flush != 'function')\n      flush = null\n\n    return construct(options, transform, flush)\n  }\n}\n\n\n// main export, just make me a transform stream!\nmodule.exports = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(options)\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n\n// make me a reusable prototype that I can `new`, or implicitly `new`\n// with a constructor call\nmodule.exports.ctor = through2(function (options, transform, flush) {\n  function Through2 (override) {\n    if (!(this instanceof Through2))\n      return new Through2(override)\n\n    this.options = xtend(options, override)\n\n    DestroyableTransform.call(this, this.options)\n  }\n\n  inherits(Through2, DestroyableTransform)\n\n  Through2.prototype._transform = transform\n\n  if (flush)\n    Through2.prototype._flush = flush\n\n  return Through2\n})\n\n\nmodule.exports.obj = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(xtend({ objectMode: true, highWaterMark: 16 }, options))\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n"]}