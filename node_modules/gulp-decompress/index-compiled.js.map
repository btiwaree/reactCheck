{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,cAAc,QAAQ,cAAR,CAAd;AACJ,IAAI,aAAa,QAAQ,YAAR,CAAb;AACJ,IAAI,QAAQ,QAAQ,WAAR,CAAR;AACJ,IAAI,YAAY,QAAQ,2BAAR,CAAZ;;AAEJ,OAAO,OAAP,GAAiB,UAAU,IAAV,EAAgB;AAChC,QAAO,QAAQ,EAAR,CADyB;;AAGhC,QAAO,IAAI,SAAJ,CAAc;AACpB,cAAY,IAAZ;AACA,aAAW,UAAU,IAAV,EAAgB,GAAhB,EAAqB,EAArB,EAAyB;AACnC,OAAI,KAAK,MAAL,EAAJ,EAAmB;AAClB,OAAG,IAAH,EAAS,IAAT,EADkB;AAElB,WAFkB;IAAnB;;AAKA,OAAI,KAAK,QAAL,EAAJ,EAAqB;AACpB,OAAG,IAAI,MAAM,WAAN,CAAkB,iBAAtB,EAAyC,4BAAzC,CAAH,EADoB;AAEpB,WAFoB;IAArB;;AAKA,OAAI,CAAC,YAAY,KAAK,QAAL,CAAb,EAA6B;AAChC,OAAG,IAAH,EAAS,IAAT,EADgC;AAEhC,WAFgC;IAAjC;;AAKA,OAAI,aAAa,IAAI,UAAJ,GACf,GADe,CACX,KAAK,QAAL,CADW,CAEf,GAFe,CAEX,WAAW,GAAX,CAAe,IAAf,CAFW,EAGf,GAHe,CAGX,WAAW,MAAX,CAAkB,IAAlB,CAHW,EAIf,GAJe,CAIX,WAAW,KAAX,CAAiB,IAAjB,CAJW,EAKf,GALe,CAKX,WAAW,GAAX,CAAe,IAAf,CALW,CAAb,CAhB+B;;AAuBnC,cAAW,GAAX,CAAe,UAAU,GAAV,EAAe,KAAf,EAAsB;AACpC,QAAI,GAAJ,EAAS;AACR,QAAG,IAAI,MAAM,WAAN,CAAkB,kBAAtB,EAA0C,GAA1C,EAA+C,EAAC,UAAU,KAAK,IAAL,EAA1D,CAAH,EADQ;AAER,YAFQ;KAAT;;AAKA,UAAM,OAAN,CAAc,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,CAAd,EANoC;AAOpC,SAPoC;IAAtB,CAQb,IARa,CAQR,IARQ,CAAf,EAvBmC;GAAzB;EAFL,CAAP,CAHgC;CAAhB","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar archiveType = require('archive-type');\nvar Decompress = require('decompress');\nvar gutil = require('gulp-util');\nvar Transform = require('readable-stream/transform');\n\nmodule.exports = function (opts) {\n\topts = opts || {};\n\n\treturn new Transform({\n\t\tobjectMode: true,\n\t\ttransform: function (file, enc, cb) {\n\t\t\tif (file.isNull()) {\n\t\t\t\tcb(null, file);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (file.isStream()) {\n\t\t\t\tcb(new gutil.PluginError('gulp-decompress', 'Streaming is not supported'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!archiveType(file.contents)) {\n\t\t\t\tcb(null, file);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar decompress = new Decompress()\n\t\t\t\t.src(file.contents)\n\t\t\t\t.use(Decompress.tar(opts))\n\t\t\t\t.use(Decompress.tarbz2(opts))\n\t\t\t\t.use(Decompress.targz(opts))\n\t\t\t\t.use(Decompress.zip(opts));\n\n\t\t\tdecompress.run(function (err, files) {\n\t\t\t\tif (err) {\n\t\t\t\t\tcb(new gutil.PluginError('gulp-decompress:', err, {fileName: file.path}));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfiles.forEach(this.push.bind(this));\n\t\t\t\tcb();\n\t\t\t}.bind(this));\n\t\t}\n\t});\n};\n"]}