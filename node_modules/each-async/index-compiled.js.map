{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AACA,IAAI,UAAU,QAAQ,SAAR,CAAV;AACJ,IAAI,mBAAmB,QAAQ,oBAAR,CAAnB;;AAEJ,OAAO,OAAP,GAAiB,UAAU,GAAV,EAAe,IAAf,EAAqB,EAArB,EAAyB;AACzC,KAAI,SAAS,KAAT,CADqC;AAEzC,KAAI,QAAQ,CAAR,CAFqC;;AAIzC,MAAK,MAAM,YAAY,EAAZ,CAJ8B;;AAMzC,KAAI,CAAC,MAAM,OAAN,CAAc,GAAd,CAAD,EAAqB;AACxB,QAAM,IAAI,SAAJ,CAAc,iCAAd,CAAN,CADwB;EAAzB;;AAIA,KAAI,OAAO,IAAP,KAAgB,UAAhB,EAA4B;AAC/B,QAAM,IAAI,SAAJ,CAAc,oCAAd,CAAN,CAD+B;EAAhC;;AAIA,KAAI,MAAM,IAAI,MAAJ,CAd+B;;AAgBzC,KAAI,CAAC,GAAD,EAAM;AACT,OADS;AAET,SAFS;EAAV;;AAKA,UAAS,QAAT,CAAkB,GAAlB,EAAuB;AACtB,MAAI,MAAJ,EAAY;AACX,UADW;GAAZ;;AAIA,MAAI,QAAQ,SAAR,IAAqB,QAAQ,IAAR,EAAc;AACtC,YAAS,IAAT,CADsC;AAEtC,MAAG,GAAH,EAFsC;AAGtC,UAHsC;GAAvC;;AAMA,MAAI,EAAE,KAAF,KAAY,GAAZ,EAAiB;AACpB,QADoB;AAEpB,UAFoB;GAArB;EAXD;;AAiBA,MAAK,IAAI,IAAI,CAAJ,EAAO,IAAI,GAAJ,EAAS,GAAzB,EAA8B;AAC7B,mBAAiB,IAAjB,EAAuB,IAAI,CAAJ,CAAvB,EAA+B,CAA/B,EAAkC,QAAQ,QAAR,EAAkB,IAAlB,CAAlC,EAD6B;EAA9B;CAtCgB","file":"index-compiled.js","sourcesContent":["'use strict';\nvar onetime = require('onetime');\nvar setImmediateShim = require('set-immediate-shim');\n\nmodule.exports = function (arr, next, cb) {\n\tvar failed = false;\n\tvar count = 0;\n\n\tcb = cb || function () {};\n\n\tif (!Array.isArray(arr)) {\n\t\tthrow new TypeError('First argument must be an array');\n\t}\n\n\tif (typeof next !== 'function') {\n\t\tthrow new TypeError('Second argument must be a function');\n\t}\n\n\tvar len = arr.length;\n\n\tif (!len) {\n\t\tcb();\n\t\treturn;\n\t}\n\n\tfunction callback(err) {\n\t\tif (failed) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (err !== undefined && err !== null) {\n\t\t\tfailed = true;\n\t\t\tcb(err);\n\t\t\treturn;\n\t\t}\n\n\t\tif (++count === len) {\n\t\t\tcb();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tfor (var i = 0; i < len; i++) {\n\t\tsetImmediateShim(next, arr[i], i, onetime(callback, true));\n\t}\n};\n"]}