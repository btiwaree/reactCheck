{"version":3,"sources":["end.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,aAAa,QAAQ,cAAR,CAAb;IACA,QAAQ,QAAQ,UAAR,CAAR;;AAEJ,OAAO,OAAP,GAAiB,SAAS,KAAT,CAAe,IAAf,EAAqB,OAArB,EAA8B,QAA9B,EAAwC;AACvD,MAAI,YAAY;AACd,YAAQ,IAAR;AACA,mBAAe,IAAf;GAFE;MAIA,MAJJ,CADuD;;AAOvD,MAAI,CAAC,WAAW,GAAX,EAAgB,WAAW,CAAX,CAArB,KAAuC,IAAI,YAAY,IAAZ,EAAkB,WAAW,cAAc,IAAd,KAAuB,CAAvB,CAAjC;;AAEvC,MAAI,WAAW,GAAX,EAAgB;AAClB,SAAK,gBAAL,CAAsB,WAAW,GAAX,EAAgB,IAAtC,EAA4C,KAA5C,EADkB;;AAGlB,aAAS,WAAW,YAAY;AAC9B,aAAO,KAAK,SAAL,CAAP,CAD8B;KAAZ,EAEjB,CAAC,YAAY,GAAZ,CAAD,GAAoB,GAApB,CAFH,CAHkB;GAApB,MAMO,WAAW,KAAK,IAAL,CAAU,IAAV,EAAgB,SAAhB,CAAX,EAAuC,CAAvC,EANP;;AAQA,WAAS,IAAT,CAAc,KAAd,EAAqB;AACnB,QAAI,MAAM,MAAN,KAAiB,MAAM,aAAN,EAAqB,OAA1C;AACA,iBAAa,MAAb,EAFmB;AAGnB,UAAM,MAAN,CAAa,mBAAb,CAAiC,WAAW,GAAX,EAAgB,IAAjD,EAHmB;AAInB,YAAQ,IAAR,CAAa,IAAb,EAJmB;GAArB;CAjBe;;AAyBjB,OAAO,OAAP,CAAe,cAAf,GAAgC,aAAhC;;AAEA,SAAS,aAAT,CAAuB,IAAvB,EAA6B;AAC3B,MAAI,MAAM,MAAM,IAAN,EAAY,WAAW,QAAX,CAAlB;MACA,OAAO,IAAI,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAAD,GAAK,IAA3B,GAAkC,CAAlC,CAFgB;;AAI3B,SAAO,WAAW,GAAX,IAAkB,IAAlB,CAJoB;CAA7B","file":"end-compiled.js","sourcesContent":["'use strict';\n\nvar transition = require('./properties'),\n    style = require('../style');\n\nmodule.exports = function onEnd(node, handler, duration) {\n  var fakeEvent = {\n    target: node,\n    currentTarget: node\n  },\n      backup;\n\n  if (!transition.end) duration = 0;else if (duration == null) duration = parseDuration(node) || 0;\n\n  if (transition.end) {\n    node.addEventListener(transition.end, done, false);\n\n    backup = setTimeout(function () {\n      return done(fakeEvent);\n    }, (duration || 100) * 1.5);\n  } else setTimeout(done.bind(null, fakeEvent), 0);\n\n  function done(event) {\n    if (event.target !== event.currentTarget) return;\n    clearTimeout(backup);\n    event.target.removeEventListener(transition.end, done);\n    handler.call(this);\n  }\n};\n\nmodule.exports._parseDuration = parseDuration;\n\nfunction parseDuration(node) {\n  var str = style(node, transition.duration),\n      mult = str.indexOf('ms') === -1 ? 1000 : 1;\n\n  return parseFloat(str) * mult;\n}"]}