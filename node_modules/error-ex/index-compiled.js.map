{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar util = require('util');\nvar isArrayish = require('is-arrayish');\n\nvar errorEx = function errorEx(name, properties) {\n\tif (!name || name.constructor !== String) {\n\t\tproperties = name || {};\n\t\tname = Error.name;\n\t}\n\n\tvar errorExError = function ErrorEXError(message) {\n\t\tif (!this) {\n\t\t\treturn new ErrorEXError(message);\n\t\t}\n\n\t\tmessage = message instanceof Error\n\t\t\t? message.message\n\t\t\t: (message || this.message);\n\n\t\tError.call(this, message);\n\t\tError.captureStackTrace(this, errorExError);\n\t\tthis.name = name;\n\n\t\tdelete this.message;\n\n\t\tObject.defineProperty(this, 'message', {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: false,\n\t\t\tget: function () {\n\t\t\t\tvar newMessage = message.split(/\\r?\\n/g);\n\n\t\t\t\tfor (var key in properties) {\n\t\t\t\t\tif (properties.hasOwnProperty(key) && 'message' in properties[key]) {\n\t\t\t\t\t\tnewMessage = properties[key].message(this[key], newMessage) ||\n\t\t\t\t\t\t\tnewMessage;\n\t\t\t\t\t\tif (!isArrayish(newMessage)) {\n\t\t\t\t\t\t\tnewMessage = [newMessage];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMessage.join('\\n');\n\t\t\t},\n\t\t\tset: function (v) {\n\t\t\t\tmessage = v;\n\t\t\t}\n\t\t});\n\n\t\tvar stackDescriptor = Object.getOwnPropertyDescriptor(this, 'stack');\n\t\tvar stackGetter = stackDescriptor.get;\n\n\t\tstackDescriptor.get = function () {\n\t\t\tvar stack = stackGetter.call(this).split(/\\r?\\n+/g);\n\n\t\t\tvar lineCount = 1;\n\t\t\tfor (var key in properties) {\n\t\t\t\tif (!properties.hasOwnProperty(key)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar modifier = properties[key];\n\n\t\t\t\tif ('line' in modifier) {\n\t\t\t\t\tvar line = modifier.line(this[key]);\n\t\t\t\t\tif (line) {\n\t\t\t\t\t\tstack.splice(lineCount, 0, '    ' + line);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif ('stack' in modifier) {\n\t\t\t\t\tmodifier.stack(this[key], stack);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn stack.join('\\n');\n\t\t};\n\n\t\tObject.defineProperty(this, 'stack', stackDescriptor);\n\t};\n\n\tutil.inherits(errorExError, Error);\n\n\treturn errorExError;\n};\n\nerrorEx.append = function (str, def) {\n\treturn {\n\t\tmessage: function (v, message) {\n\t\t\tv = v || def;\n\n\t\t\tif (v) {\n\t\t\t\tmessage[0] += ' ' + str.replace('%s', v.toString());\n\t\t\t}\n\n\t\t\treturn message;\n\t\t}\n\t};\n};\n\nerrorEx.line = function (str, def) {\n\treturn {\n\t\tline: function (v) {\n\t\t\tv = v || def;\n\n\t\t\tif (v) {\n\t\t\t\treturn str.replace('%s', v.toString());\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\t};\n};\n\nmodule.exports = errorEx;\n"]}