{"version":3,"sources":["input.js"],"names":[],"mappings":"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","file":"input-compiled.js","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _cssSyntaxError = require('./css-syntax-error');\n\nvar _cssSyntaxError2 = _interopRequireDefault(_cssSyntaxError);\n\nvar _previousMap = require('./previous-map');\n\nvar _previousMap2 = _interopRequireDefault(_previousMap);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar sequence = 0;\n\nvar Input = function () {\n    function Input(css) {\n        var opts = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n        _classCallCheck(this, Input);\n\n        this.css = css.toString();\n\n        if (this.css[0] === '﻿' || this.css[0] === '￾') {\n            this.css = this.css.slice(1);\n        }\n\n        if (opts.from) this.file = _path2.default.resolve(opts.from);\n\n        var map = new _previousMap2.default(this.css, opts);\n        if (map.text) {\n            this.map = map;\n            var file = map.consumer().file;\n            if (!this.file && file) this.file = this.mapResolve(file);\n        }\n\n        if (!this.file) {\n            sequence += 1;\n            this.id = '<input css ' + sequence + '>';\n        }\n        if (this.map) this.map.file = this.from;\n    }\n\n    Input.prototype.error = function error(message, line, column) {\n        var opts = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n        var result = undefined;\n        var origin = this.origin(line, column);\n        if (origin) {\n            result = new _cssSyntaxError2.default(message, origin.line, origin.column, origin.source, origin.file, opts.plugin);\n        } else {\n            result = new _cssSyntaxError2.default(message, line, column, this.css, this.file, opts.plugin);\n        }\n\n        result.input = { line: line, column: column, source: this.css };\n        if (this.file) result.input.file = this.file;\n\n        return result;\n    };\n\n    Input.prototype.origin = function origin(line, column) {\n        if (!this.map) return false;\n        var consumer = this.map.consumer();\n\n        var from = consumer.originalPositionFor({ line: line, column: column });\n        if (!from.source) return false;\n\n        var result = {\n            file: this.mapResolve(from.source),\n            line: from.line,\n            column: from.column\n        };\n\n        var source = consumer.sourceContentFor(from.source);\n        if (source) result.source = source;\n\n        return result;\n    };\n\n    Input.prototype.mapResolve = function mapResolve(file) {\n        return _path2.default.resolve(this.map.consumer().sourceRoot || '.', file);\n    };\n\n    _createClass(Input, [{\n        key: 'from',\n        get: function get() {\n            return this.file || this.id;\n        }\n    }]);\n\n    return Input;\n}();\n\nexports.default = Input;\nmodule.exports = exports['default'];"]}